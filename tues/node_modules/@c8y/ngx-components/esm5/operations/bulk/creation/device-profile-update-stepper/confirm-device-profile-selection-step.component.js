import * as tslib_1 from "tslib";
import { Component, Input } from '@angular/core';
import { get } from 'lodash-es';
import { gettext } from '@c8y/ngx-components';
import { TranslateService } from '@ngx-translate/core';
var ConfirmDeviceProfileSelectionStepComponent = /** @class */ (function () {
    function ConfirmDeviceProfileSelectionStepComponent(translate) {
        this.translate = translate;
        this.DEVICE_TYPE_NOT_DEFINED = gettext('Device type not defined');
    }
    Object.defineProperty(ConfirmDeviceProfileSelectionStepComponent.prototype, "softwares", {
        get: function () {
            return get(this.selectedDeviceProfile, ['c8y_DeviceProfile', 'software'], []);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ConfirmDeviceProfileSelectionStepComponent.prototype, "configurations", {
        get: function () {
            return get(this.selectedDeviceProfile, ['c8y_DeviceProfile', 'configuration'], []);
        },
        enumerable: true,
        configurable: true
    });
    ConfirmDeviceProfileSelectionStepComponent.prototype.getDeviceTypeTitle = function (deviceProfile) {
        return get(deviceProfile, 'c8y_Filter.type', this.translate.instant(this.DEVICE_TYPE_NOT_DEFINED));
    };
    ConfirmDeviceProfileSelectionStepComponent.ctorParameters = function () { return [
        { type: TranslateService }
    ]; };
    tslib_1.__decorate([
        Input()
    ], ConfirmDeviceProfileSelectionStepComponent.prototype, "selectedDeviceProfile", void 0);
    ConfirmDeviceProfileSelectionStepComponent = tslib_1.__decorate([
        Component({
            selector: 'c8y-confirm-device-profile-selection-step',
            template: "<div class=\"card-block p-t-0 flex-no-shrink separator-bottom col-xs-12\">\n  <div class=\"row p-b-16\">\n    <div class=\"col-md-6 col-md-offset-3 col-lg-4 col-lg-offset-4\">\n      <h4 class=\"text-center text-gray\">{{ 'Confirm selection' | translate }}</h4>\n    </div>\n  </div>\n</div>\n<div class=\"col-xs-12 flex-grow no-gutter\">\n  <div class=\"card-inner-scroll fit-v\">\n    <div class=\"card-block\">\n      <div class=\"row p-b-16\">\n        <div class=\"col-md-6 col-md-offset-3 col-lg-4 col-lg-offset-4\">\n          <div class=\"text-truncate\" title=\"{{ 'Device type' | translate }}: {{ getDeviceTypeTitle(selectedDeviceProfile) }}\">\n            <span class=\"legend form-block\" translate>Device type</span>\n            <ng-container *ngIf=\"selectedDeviceProfile?.c8y_Filter?.type; else noType\">\n              <span>{{ selectedDeviceProfile.c8y_Filter.type }}</span>\n            </ng-container>\n            <ng-template #noType>\n              ---\n            </ng-template>\n          </div>\n        </div>\n      </div>\n      <div class=\"row p-b-16\" *ngIf=\"selectedDeviceProfile?.c8y_DeviceProfile.firmware\">\n        <div class=\"col-md-6 col-md-offset-3 col-lg-4 col-lg-offset-4\">\n          <span class=\"legend form-block\" translate>Firmware</span>\n          <c8y-list-group>\n            <c8y-li>\n              <c8y-li-icon>\n                <i c8yIcon=\"c8y-firmware\"></i>\n              </c8y-li-icon>\n              <c8y-li-body class=\"content-flex-500\">\n                <div class=\"col-5\">\n                  {{ selectedDeviceProfile.c8y_DeviceProfile.firmware.name }}\n                </div>\n                <div class=\"col-5\">\n                  <span class=\"text-label-small m-r-8\" translate>\n                    Version\n                  </span>\n                  <span>\n                    {{ selectedDeviceProfile.c8y_DeviceProfile.firmware.version }}\n                  </span>\n                </div>\n              </c8y-li-body>\n            </c8y-li>\n          </c8y-list-group>\n        </div>\n      </div>\n      <div class=\"row p-b-16\" *ngIf=\"softwares.length\">\n        <div class=\"col-md-6 col-md-offset-3 col-lg-4 col-lg-offset-4\">\n          <span class=\"legend form-block\" translate>Software</span>\n          <c8y-list-group>\n            <c8y-li *ngFor=\"let software of softwares\">\n              <c8y-li-icon>\n                <i c8yIcon=\"c8y-tools\"></i>\n              </c8y-li-icon>\n              <c8y-li-body class=\"content-flex-500\">\n                <div class=\"col-5\">\n                  {{ software.name }}\n                </div>\n                <div class=\"col-5\">\n                  <span class=\"text-label-small m-r-8\" translate>\n                    Version\n                  </span>\n                  <span>\n                    {{ software.version }}\n                  </span>\n                </div>\n              </c8y-li-body>\n            </c8y-li>\n          </c8y-list-group>\n        </div>\n      </div>\n      <div class=\"row p-b-16\" *ngIf=\"configurations.length\">\n        <div class=\"col-md-6 col-md-offset-3 col-lg-4 col-lg-offset-4\">\n          <span class=\"legend form-block\" translate>Configuration</span>\n          <c8y-list-group>\n            <c8y-li *ngFor=\"let configuration of configurations\">\n              <c8y-li-icon>\n                <i c8yIcon=\"c8y-tools\"></i>\n              </c8y-li-icon>\n              <c8y-li-body class=\"content-flex-500\">\n                <div class=\"col-5\">\n                  {{ configuration.name }}\n                </div>\n                <div class=\"col-5\">\n                  <span class=\"label label-info\" *ngIf=\"configuration.type\">\n                    {{ configuration.type }}\n                  </span>\n                </div>\n              </c8y-li-body>\n            </c8y-li>\n          </c8y-list-group>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n"
        })
    ], ConfirmDeviceProfileSelectionStepComponent);
    return ConfirmDeviceProfileSelectionStepComponent;
}());
export { ConfirmDeviceProfileSelectionStepComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uZmlybS1kZXZpY2UtcHJvZmlsZS1zZWxlY3Rpb24tc3RlcC5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AYzh5L25neC1jb21wb25lbnRzL29wZXJhdGlvbnMvIiwic291cmNlcyI6WyJidWxrL2NyZWF0aW9uL2RldmljZS1wcm9maWxlLXVwZGF0ZS1zdGVwcGVyL2NvbmZpcm0tZGV2aWNlLXByb2ZpbGUtc2VsZWN0aW9uLXN0ZXAuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUNqRCxPQUFPLEVBQUUsR0FBRyxFQUFFLE1BQU0sV0FBVyxDQUFDO0FBRWhDLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUM5QyxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQU12RDtJQUlFLG9EQUNVLFNBQTJCO1FBQTNCLGNBQVMsR0FBVCxTQUFTLENBQWtCO1FBSDVCLDRCQUF1QixHQUFHLE9BQU8sQ0FBQyx5QkFBeUIsQ0FBQyxDQUFDO0lBSW5FLENBQUM7SUFFSixzQkFBSSxpRUFBUzthQUFiO1lBQ0UsT0FBTyxHQUFHLENBQUMsSUFBSSxDQUFDLHFCQUFxQixFQUFFLENBQUMsbUJBQW1CLEVBQUUsVUFBVSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDaEYsQ0FBQzs7O09BQUE7SUFFRCxzQkFBSSxzRUFBYzthQUFsQjtZQUNFLE9BQU8sR0FBRyxDQUFDLElBQUksQ0FBQyxxQkFBcUIsRUFBRSxDQUFDLG1CQUFtQixFQUFFLGVBQWUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBQ3JGLENBQUM7OztPQUFBO0lBRUQsdUVBQWtCLEdBQWxCLFVBQW1CLGFBQTZCO1FBQzlDLE9BQU8sR0FBRyxDQUNSLGFBQWEsRUFDYixpQkFBaUIsRUFDakIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLHVCQUF1QixDQUFDLENBQUMsQ0FBQztJQUUxRCxDQUFDOztnQkFqQm9CLGdCQUFnQjs7SUFKNUI7UUFBUixLQUFLLEVBQUU7NkZBQXVDO0lBRHBDLDBDQUEwQztRQUp0RCxTQUFTLENBQUM7WUFDVCxRQUFRLEVBQUUsMkNBQTJDO1lBQ3JELDg1SEFBbUU7U0FDcEUsQ0FBQztPQUNXLDBDQUEwQyxDQXVCdEQ7SUFBRCxpREFBQztDQUFBLEFBdkJELElBdUJDO1NBdkJZLDBDQUEwQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgSW5wdXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IGdldCB9IGZyb20gJ2xvZGFzaC1lcyc7XG5pbXBvcnQgeyBJTWFuYWdlZE9iamVjdCB9IGZyb20gJ0BjOHkvY2xpZW50JztcbmltcG9ydCB7IGdldHRleHQgfSBmcm9tICdAYzh5L25neC1jb21wb25lbnRzJztcbmltcG9ydCB7IFRyYW5zbGF0ZVNlcnZpY2UgfSBmcm9tICdAbmd4LXRyYW5zbGF0ZS9jb3JlJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnYzh5LWNvbmZpcm0tZGV2aWNlLXByb2ZpbGUtc2VsZWN0aW9uLXN0ZXAnLFxuICB0ZW1wbGF0ZVVybDogJ2NvbmZpcm0tZGV2aWNlLXByb2ZpbGUtc2VsZWN0aW9uLXN0ZXAuY29tcG9uZW50Lmh0bWwnXG59KVxuZXhwb3J0IGNsYXNzIENvbmZpcm1EZXZpY2VQcm9maWxlU2VsZWN0aW9uU3RlcENvbXBvbmVudCB7XG4gIEBJbnB1dCgpIHNlbGVjdGVkRGV2aWNlUHJvZmlsZTogSU1hbmFnZWRPYmplY3Q7XG4gIHJlYWRvbmx5IERFVklDRV9UWVBFX05PVF9ERUZJTkVEID0gZ2V0dGV4dCgnRGV2aWNlIHR5cGUgbm90IGRlZmluZWQnKTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIHRyYW5zbGF0ZTogVHJhbnNsYXRlU2VydmljZVxuICApIHt9XG5cbiAgZ2V0IHNvZnR3YXJlcygpIHtcbiAgICByZXR1cm4gZ2V0KHRoaXMuc2VsZWN0ZWREZXZpY2VQcm9maWxlLCBbJ2M4eV9EZXZpY2VQcm9maWxlJywgJ3NvZnR3YXJlJ10sIFtdKTtcbiAgfVxuXG4gIGdldCBjb25maWd1cmF0aW9ucygpIHtcbiAgICByZXR1cm4gZ2V0KHRoaXMuc2VsZWN0ZWREZXZpY2VQcm9maWxlLCBbJ2M4eV9EZXZpY2VQcm9maWxlJywgJ2NvbmZpZ3VyYXRpb24nXSwgW10pO1xuICB9XG5cbiAgZ2V0RGV2aWNlVHlwZVRpdGxlKGRldmljZVByb2ZpbGU6IElNYW5hZ2VkT2JqZWN0KTogc3RyaW5nIHtcbiAgICByZXR1cm4gZ2V0KFxuICAgICAgZGV2aWNlUHJvZmlsZSxcbiAgICAgICdjOHlfRmlsdGVyLnR5cGUnLFxuICAgICAgdGhpcy50cmFuc2xhdGUuaW5zdGFudCh0aGlzLkRFVklDRV9UWVBFX05PVF9ERUZJTkVEKSk7XG5cbiAgfVxufVxuIl19