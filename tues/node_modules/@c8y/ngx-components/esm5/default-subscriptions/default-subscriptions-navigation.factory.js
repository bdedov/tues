import * as tslib_1 from "tslib";
import { Injectable } from '@angular/core';
import { gettext, NavigatorNode } from '@c8y/ngx-components';
import { DefaultSubscriptionsGuard } from './default-subscriptions.guard';
var DefaultSubscriptionsNavigationFactory = /** @class */ (function () {
    function DefaultSubscriptionsNavigationFactory(defaultSubscriptionsGuard) {
        this.defaultSubscriptionsGuard = defaultSubscriptionsGuard;
        this.navNode = new NavigatorNode({
            label: gettext('Default subscriptions'),
            path: '/default-subscriptions',
            icon: 'c8y-c8y-data',
            parent: gettext('Applications'),
            priority: 1000
        });
    }
    /** Returns the navigation node if the feature is active. */
    DefaultSubscriptionsNavigationFactory.prototype.get = function () {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.defaultSubscriptionsGuard.canActivate()];
                    case 1:
                        if (_a.sent()) {
                            return [2 /*return*/, this.navNode];
                        }
                        return [2 /*return*/];
                }
            });
        });
    };
    DefaultSubscriptionsNavigationFactory.ctorParameters = function () { return [
        { type: DefaultSubscriptionsGuard }
    ]; };
    DefaultSubscriptionsNavigationFactory = tslib_1.__decorate([
        Injectable()
    ], DefaultSubscriptionsNavigationFactory);
    return DefaultSubscriptionsNavigationFactory;
}());
export { DefaultSubscriptionsNavigationFactory };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVmYXVsdC1zdWJzY3JpcHRpb25zLW5hdmlnYXRpb24uZmFjdG9yeS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BjOHkvbmd4LWNvbXBvbmVudHMvZGVmYXVsdC1zdWJzY3JpcHRpb25zLyIsInNvdXJjZXMiOlsiZGVmYXVsdC1zdWJzY3JpcHRpb25zLW5hdmlnYXRpb24uZmFjdG9yeS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUMzQyxPQUFPLEVBQUUsT0FBTyxFQUFFLGFBQWEsRUFBd0IsTUFBTSxxQkFBcUIsQ0FBQztBQUNuRixPQUFPLEVBQUUseUJBQXlCLEVBQUUsTUFBTSwrQkFBK0IsQ0FBQztBQUcxRTtJQVNFLCtDQUFvQix5QkFBb0Q7UUFBcEQsOEJBQXlCLEdBQXpCLHlCQUF5QixDQUEyQjtRQVJoRSxZQUFPLEdBQUcsSUFBSSxhQUFhLENBQUM7WUFDbEMsS0FBSyxFQUFFLE9BQU8sQ0FBQyx1QkFBdUIsQ0FBQztZQUN2QyxJQUFJLEVBQUUsd0JBQXdCO1lBQzlCLElBQUksRUFBRSxjQUFjO1lBQ3BCLE1BQU0sRUFBRSxPQUFPLENBQUMsY0FBYyxDQUFDO1lBQy9CLFFBQVEsRUFBRSxJQUFJO1NBQ2YsQ0FBQyxDQUFDO0lBRXdFLENBQUM7SUFFNUUsNERBQTREO0lBQ3RELG1EQUFHLEdBQVQ7Ozs7NEJBQ00scUJBQU0sSUFBSSxDQUFDLHlCQUF5QixDQUFDLFdBQVcsRUFBRSxFQUFBOzt3QkFBdEQsSUFBSSxTQUFrRCxFQUFFOzRCQUN0RCxzQkFBTyxJQUFJLENBQUMsT0FBTyxFQUFDO3lCQUNyQjs7Ozs7S0FDRjs7Z0JBUDhDLHlCQUF5Qjs7SUFUN0QscUNBQXFDO1FBRGpELFVBQVUsRUFBRTtPQUNBLHFDQUFxQyxDQWlCakQ7SUFBRCw0Q0FBQztDQUFBLEFBakJELElBaUJDO1NBakJZLHFDQUFxQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IGdldHRleHQsIE5hdmlnYXRvck5vZGUsIE5hdmlnYXRvck5vZGVGYWN0b3J5IH0gZnJvbSAnQGM4eS9uZ3gtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBEZWZhdWx0U3Vic2NyaXB0aW9uc0d1YXJkIH0gZnJvbSAnLi9kZWZhdWx0LXN1YnNjcmlwdGlvbnMuZ3VhcmQnO1xuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgRGVmYXVsdFN1YnNjcmlwdGlvbnNOYXZpZ2F0aW9uRmFjdG9yeSBpbXBsZW1lbnRzIE5hdmlnYXRvck5vZGVGYWN0b3J5IHtcbiAgcHJpdmF0ZSBuYXZOb2RlID0gbmV3IE5hdmlnYXRvck5vZGUoe1xuICAgIGxhYmVsOiBnZXR0ZXh0KCdEZWZhdWx0IHN1YnNjcmlwdGlvbnMnKSxcbiAgICBwYXRoOiAnL2RlZmF1bHQtc3Vic2NyaXB0aW9ucycsXG4gICAgaWNvbjogJ2M4eS1jOHktZGF0YScsXG4gICAgcGFyZW50OiBnZXR0ZXh0KCdBcHBsaWNhdGlvbnMnKSxcbiAgICBwcmlvcml0eTogMTAwMFxuICB9KTtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGRlZmF1bHRTdWJzY3JpcHRpb25zR3VhcmQ6IERlZmF1bHRTdWJzY3JpcHRpb25zR3VhcmQpIHt9XG5cbiAgLyoqIFJldHVybnMgdGhlIG5hdmlnYXRpb24gbm9kZSBpZiB0aGUgZmVhdHVyZSBpcyBhY3RpdmUuICovXG4gIGFzeW5jIGdldCgpOiBQcm9taXNlPE5hdmlnYXRvck5vZGU+IHtcbiAgICBpZiAoYXdhaXQgdGhpcy5kZWZhdWx0U3Vic2NyaXB0aW9uc0d1YXJkLmNhbkFjdGl2YXRlKCkpIHtcbiAgICAgIHJldHVybiB0aGlzLm5hdk5vZGU7XG4gICAgfVxuICB9XG59XG4iXX0=