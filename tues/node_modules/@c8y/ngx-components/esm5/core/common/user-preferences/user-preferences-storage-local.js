import { of } from 'rxjs';
var UserPreferencesStorageLocal = /** @class */ (function () {
    function UserPreferencesStorageLocal() {
        this.LOCAL_STORAGE_KEY = 'userPreferences';
        this.store = {};
        try {
            var jsonStore = window.localStorage.getItem(this.LOCAL_STORAGE_KEY);
            if (jsonStore) {
                this.store = JSON.parse(jsonStore) || {};
            }
        }
        catch (e) {
            // do nothing
        }
    }
    UserPreferencesStorageLocal.prototype.get = function (key) {
        return of(this.store[key]);
    };
    UserPreferencesStorageLocal.prototype.set = function (key, value) {
        this.store[key] = value;
        return this.saveJsonStore();
    };
    UserPreferencesStorageLocal.prototype.saveJsonStore = function () {
        return window.localStorage.setItem(this.LOCAL_STORAGE_KEY, JSON.stringify(this.store));
    };
    return UserPreferencesStorageLocal;
}());
export { UserPreferencesStorageLocal };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlci1wcmVmZXJlbmNlcy1zdG9yYWdlLWxvY2FsLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGM4eS9uZ3gtY29tcG9uZW50cy8iLCJzb3VyY2VzIjpbImNvcmUvY29tbW9uL3VzZXItcHJlZmVyZW5jZXMvdXNlci1wcmVmZXJlbmNlcy1zdG9yYWdlLWxvY2FsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBYyxFQUFFLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFFdEM7SUFHRTtRQUZRLHNCQUFpQixHQUFHLGlCQUFpQixDQUFDO1FBQ3RDLFVBQUssR0FBUSxFQUFFLENBQUM7UUFFdEIsSUFBSTtZQUNGLElBQU0sU0FBUyxHQUFHLE1BQU0sQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO1lBQ3RFLElBQUksU0FBUyxFQUFFO2dCQUNiLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsSUFBSSxFQUFFLENBQUM7YUFDMUM7U0FDRjtRQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQ1YsYUFBYTtTQUNkO0lBQ0gsQ0FBQztJQUVELHlDQUFHLEdBQUgsVUFBSSxHQUFHO1FBQ0wsT0FBTyxFQUFFLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQzdCLENBQUM7SUFFRCx5Q0FBRyxHQUFILFVBQUksR0FBRyxFQUFFLEtBQUs7UUFDWixJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUssQ0FBQztRQUN4QixPQUFPLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztJQUM5QixDQUFDO0lBRU8sbURBQWEsR0FBckI7UUFDRSxPQUFPLE1BQU0sQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO0lBQ3pGLENBQUM7SUFDSCxrQ0FBQztBQUFELENBQUMsQUExQkQsSUEwQkMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBPYnNlcnZhYmxlLCBvZiB9IGZyb20gJ3J4anMnO1xuXG5leHBvcnQgY2xhc3MgVXNlclByZWZlcmVuY2VzU3RvcmFnZUxvY2FsIHtcbiAgcHJpdmF0ZSBMT0NBTF9TVE9SQUdFX0tFWSA9ICd1c2VyUHJlZmVyZW5jZXMnO1xuICBwcml2YXRlIHN0b3JlOiBhbnkgPSB7fTtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGpzb25TdG9yZSA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0aGlzLkxPQ0FMX1NUT1JBR0VfS0VZKTtcbiAgICAgIGlmIChqc29uU3RvcmUpIHtcbiAgICAgICAgdGhpcy5zdG9yZSA9IEpTT04ucGFyc2UoanNvblN0b3JlKSB8fCB7fTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBkbyBub3RoaW5nXG4gICAgfVxuICB9XG5cbiAgZ2V0KGtleSkge1xuICAgIHJldHVybiBvZih0aGlzLnN0b3JlW2tleV0pO1xuICB9XG5cbiAgc2V0KGtleSwgdmFsdWUpIHtcbiAgICB0aGlzLnN0b3JlW2tleV0gPSB2YWx1ZTtcbiAgICByZXR1cm4gdGhpcy5zYXZlSnNvblN0b3JlKCk7XG4gIH1cblxuICBwcml2YXRlIHNhdmVKc29uU3RvcmUoKSB7XG4gICAgcmV0dXJuIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSh0aGlzLkxPQ0FMX1NUT1JBR0VfS0VZLCBKU09OLnN0cmluZ2lmeSh0aGlzLnN0b3JlKSk7XG4gIH1cbn1cbiJdfQ==