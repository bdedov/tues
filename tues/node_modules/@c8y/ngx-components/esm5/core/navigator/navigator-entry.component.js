import * as tslib_1 from "tslib";
import { Component, ViewChild, Input } from '@angular/core';
import { NavigatorNode } from './navigator-node';
import { NavigatorService } from './navigator.service';
var NavigatorItemComponent = /** @class */ (function () {
    function NavigatorItemComponent(service) {
        this.service = service;
        this.priority = 0;
        this.nodeData = new NavigatorNode();
    }
    NavigatorItemComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.ngOnChanges();
        setTimeout(function () { return _this.service.add(_this.nodeData); });
    };
    NavigatorItemComponent.prototype.ngOnChanges = function () {
        this.nodeData.icon = this.icon;
        this.nodeData.label = this.label;
        this.nodeData.path = this.path;
        this.nodeData.priority = this.priority;
        this.nodeData.iconTemplate = !this.icon ? this.template : undefined;
        this.nodeData.icon = this.icon;
    };
    NavigatorItemComponent.prototype.ngOnDestroy = function () {
        this.service.remove(this.nodeData);
    };
    NavigatorItemComponent.ctorParameters = function () { return [
        { type: NavigatorService }
    ]; };
    tslib_1.__decorate([
        ViewChild('iconTpl', { static: true })
    ], NavigatorItemComponent.prototype, "template", void 0);
    tslib_1.__decorate([
        Input()
    ], NavigatorItemComponent.prototype, "label", void 0);
    tslib_1.__decorate([
        Input()
    ], NavigatorItemComponent.prototype, "icon", void 0);
    tslib_1.__decorate([
        Input()
    ], NavigatorItemComponent.prototype, "path", void 0);
    tslib_1.__decorate([
        Input()
    ], NavigatorItemComponent.prototype, "priority", void 0);
    NavigatorItemComponent = tslib_1.__decorate([
        Component({
            selector: 'c8y-navigator-item',
            template: '<ng-template #iconTpl><ng-content></ng-content></ng-template>'
        })
    ], NavigatorItemComponent);
    return NavigatorItemComponent;
}());
export { NavigatorItemComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmF2aWdhdG9yLWVudHJ5LmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BjOHkvbmd4LWNvbXBvbmVudHMvIiwic291cmNlcyI6WyJjb3JlL25hdmlnYXRvci9uYXZpZ2F0b3ItZW50cnkuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFlLFNBQVMsRUFBRSxLQUFLLEVBQUMsTUFBTSxlQUFlLENBQUM7QUFDeEUsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBQ2pELE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBTXZEO0lBT0UsZ0NBQ1UsT0FBeUI7UUFBekIsWUFBTyxHQUFQLE9BQU8sQ0FBa0I7UUFIMUIsYUFBUSxHQUFHLENBQUMsQ0FBQztRQUtwQixJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksYUFBYSxFQUFFLENBQUM7SUFDdEMsQ0FBQztJQUVELHlDQUFRLEdBQVI7UUFBQSxpQkFHQztRQUZDLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUNuQixVQUFVLENBQUMsY0FBTSxPQUFBLEtBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUksQ0FBQyxRQUFRLENBQUMsRUFBL0IsQ0FBK0IsQ0FBQyxDQUFDO0lBQ3BELENBQUM7SUFFRCw0Q0FBVyxHQUFYO1FBQ0UsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztRQUMvQixJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO1FBQ2pDLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUM7UUFDL0IsSUFBSSxDQUFDLFFBQVEsQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQztRQUN2QyxJQUFJLENBQUMsUUFBUSxDQUFDLFlBQVksR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQztRQUNwRSxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDO0lBQ2pDLENBQUM7SUFFRCw0Q0FBVyxHQUFYO1FBQ0UsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ3JDLENBQUM7O2dCQXJCa0IsZ0JBQWdCOztJQVBHO1FBQXJDLFNBQVMsQ0FBQyxTQUFTLEVBQUUsRUFBQyxNQUFNLEVBQUUsSUFBSSxFQUFDLENBQUM7NERBQTRCO0lBQ3hEO1FBQVIsS0FBSyxFQUFFO3lEQUFlO0lBQ2Q7UUFBUixLQUFLLEVBQUU7d0RBQWM7SUFDYjtRQUFSLEtBQUssRUFBRTt3REFBYztJQUNiO1FBQVIsS0FBSyxFQUFFOzREQUFjO0lBTFgsc0JBQXNCO1FBSmxDLFNBQVMsQ0FBQztZQUNULFFBQVEsRUFBRSxvQkFBb0I7WUFDOUIsUUFBUSxFQUFFLCtEQUErRDtTQUMxRSxDQUFDO09BQ1csc0JBQXNCLENBOEJsQztJQUFELDZCQUFDO0NBQUEsQUE5QkQsSUE4QkM7U0E5Qlksc0JBQXNCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBUZW1wbGF0ZVJlZiwgVmlld0NoaWxkLCBJbnB1dH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBOYXZpZ2F0b3JOb2RlIH0gZnJvbSAnLi9uYXZpZ2F0b3Itbm9kZSc7XG5pbXBvcnQgeyBOYXZpZ2F0b3JTZXJ2aWNlIH0gZnJvbSAnLi9uYXZpZ2F0b3Iuc2VydmljZSc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2M4eS1uYXZpZ2F0b3ItaXRlbScsXG4gIHRlbXBsYXRlOiAnPG5nLXRlbXBsYXRlICNpY29uVHBsPjxuZy1jb250ZW50PjwvbmctY29udGVudD48L25nLXRlbXBsYXRlPicsXG59KVxuZXhwb3J0IGNsYXNzIE5hdmlnYXRvckl0ZW1Db21wb25lbnQgIHtcbiAgQFZpZXdDaGlsZCgnaWNvblRwbCcsIHtzdGF0aWM6IHRydWV9KSB0ZW1wbGF0ZTogVGVtcGxhdGVSZWY8YW55PjtcbiAgQElucHV0KCkgbGFiZWw6IHN0cmluZztcbiAgQElucHV0KCkgaWNvbjogc3RyaW5nO1xuICBASW5wdXQoKSBwYXRoOiBzdHJpbmc7XG4gIEBJbnB1dCgpIHByaW9yaXR5ID0gMDtcbiAgbm9kZURhdGE6IE5hdmlnYXRvck5vZGU7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgc2VydmljZTogTmF2aWdhdG9yU2VydmljZVxuICApIHtcbiAgICB0aGlzLm5vZGVEYXRhID0gbmV3IE5hdmlnYXRvck5vZGUoKTtcbiAgfVxuXG4gIG5nT25Jbml0KCk6IHZvaWQge1xuICAgIHRoaXMubmdPbkNoYW5nZXMoKTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuc2VydmljZS5hZGQodGhpcy5ub2RlRGF0YSkpO1xuICB9XG5cbiAgbmdPbkNoYW5nZXMoKTogdm9pZCB7XG4gICAgdGhpcy5ub2RlRGF0YS5pY29uID0gdGhpcy5pY29uO1xuICAgIHRoaXMubm9kZURhdGEubGFiZWwgPSB0aGlzLmxhYmVsO1xuICAgIHRoaXMubm9kZURhdGEucGF0aCA9IHRoaXMucGF0aDtcbiAgICB0aGlzLm5vZGVEYXRhLnByaW9yaXR5ID0gdGhpcy5wcmlvcml0eTtcbiAgICB0aGlzLm5vZGVEYXRhLmljb25UZW1wbGF0ZSA9ICF0aGlzLmljb24gPyB0aGlzLnRlbXBsYXRlIDogdW5kZWZpbmVkO1xuICAgIHRoaXMubm9kZURhdGEuaWNvbiA9IHRoaXMuaWNvbjtcbiAgfVxuXG4gIG5nT25EZXN0cm95KCk6IHZvaWQge1xuICAgIHRoaXMuc2VydmljZS5yZW1vdmUodGhpcy5ub2RlRGF0YSk7XG4gIH1cbn1cbiJdfQ==