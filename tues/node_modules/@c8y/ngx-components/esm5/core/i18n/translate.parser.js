import * as tslib_1 from "tslib";
import { Injectable } from '@angular/core';
import { TranslateDefaultParser } from '@ngx-translate/core';
import { get } from 'lodash-es';
import { trimTranslationKey } from './translate.loader';
var TranslateParserCustom = /** @class */ (function (_super) {
    tslib_1.__extends(TranslateParserCustom, _super);
    function TranslateParserCustom() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    TranslateParserCustom.prototype.getValue = function (target, key) {
        var trimmedKey = trimTranslationKey(key);
        var translated = get(target, [trimmedKey]);
        if (!translated) {
            var keys = key.split('.');
            if (keys.length > 1) {
                translated = get(target, key);
            }
        }
        return translated;
    };
    TranslateParserCustom = tslib_1.__decorate([
        Injectable()
    ], TranslateParserCustom);
    return TranslateParserCustom;
}(TranslateDefaultParser));
export { TranslateParserCustom };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHJhbnNsYXRlLnBhcnNlci5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BjOHkvbmd4LWNvbXBvbmVudHMvIiwic291cmNlcyI6WyJjb3JlL2kxOG4vdHJhbnNsYXRlLnBhcnNlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUMzQyxPQUFPLEVBQUUsc0JBQXNCLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUM3RCxPQUFPLEVBQUUsR0FBRyxFQUFFLE1BQU0sV0FBVyxDQUFDO0FBQ2hDLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBR3hEO0lBQTJDLGlEQUFzQjtJQUFqRTs7SUFhQSxDQUFDO0lBWEMsd0NBQVEsR0FBUixVQUFTLE1BQVcsRUFBRSxHQUFXO1FBQy9CLElBQU0sVUFBVSxHQUFJLGtCQUFrQixDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQzVDLElBQUksVUFBVSxHQUFHLEdBQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO1FBQzNDLElBQUksQ0FBQyxVQUFVLEVBQUU7WUFDZixJQUFNLElBQUksR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQzVCLElBQUksSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7Z0JBQ25CLFVBQVUsR0FBRyxHQUFHLENBQUMsTUFBTSxFQUFFLEdBQUcsQ0FBQyxDQUFDO2FBQy9CO1NBQ0Y7UUFDRCxPQUFPLFVBQVUsQ0FBQztJQUNwQixDQUFDO0lBWlUscUJBQXFCO1FBRGpDLFVBQVUsRUFBRTtPQUNBLHFCQUFxQixDQWFqQztJQUFELDRCQUFDO0NBQUEsQUFiRCxDQUEyQyxzQkFBc0IsR0FhaEU7U0FiWSxxQkFBcUIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBUcmFuc2xhdGVEZWZhdWx0UGFyc2VyIH0gZnJvbSAnQG5neC10cmFuc2xhdGUvY29yZSc7XG5pbXBvcnQgeyBnZXQgfSBmcm9tICdsb2Rhc2gtZXMnO1xuaW1wb3J0IHsgdHJpbVRyYW5zbGF0aW9uS2V5IH0gZnJvbSAnLi90cmFuc2xhdGUubG9hZGVyJztcblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIFRyYW5zbGF0ZVBhcnNlckN1c3RvbSBleHRlbmRzIFRyYW5zbGF0ZURlZmF1bHRQYXJzZXIge1xuXG4gIGdldFZhbHVlKHRhcmdldDogYW55LCBrZXk6IHN0cmluZyk6IGFueSB7XG4gICAgY29uc3QgdHJpbW1lZEtleSA9ICB0cmltVHJhbnNsYXRpb25LZXkoa2V5KTtcbiAgICBsZXQgdHJhbnNsYXRlZCA9IGdldCh0YXJnZXQsIFt0cmltbWVkS2V5XSk7XG4gICAgaWYgKCF0cmFuc2xhdGVkKSB7XG4gICAgICBjb25zdCBrZXlzID0ga2V5LnNwbGl0KCcuJyk7XG4gICAgICBpZiAoa2V5cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIHRyYW5zbGF0ZWQgPSBnZXQodGFyZ2V0LCBrZXkpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJhbnNsYXRlZDtcbiAgfVxufVxuIl19