import * as tslib_1 from "tslib";
import { NG_VALIDATORS } from '@angular/forms';
import { Directive, Input } from '@angular/core';
import { isUndefined } from 'lodash-es';
var MaxValidationDirective = /** @class */ (function () {
    function MaxValidationDirective() {
        this.max = '';
    }
    MaxValidationDirective_1 = MaxValidationDirective;
    MaxValidationDirective.prototype.validate = function (control) {
        var parsedMax = parseInt(this.max, 10);
        if (isUndefined(control.value) || !this.max) {
            return null;
        }
        var valid = true;
        valid = !(control.value > parsedMax);
        return valid ? null : { max: { value: parsedMax } };
    };
    var MaxValidationDirective_1;
    tslib_1.__decorate([
        Input()
    ], MaxValidationDirective.prototype, "max", void 0);
    MaxValidationDirective = MaxValidationDirective_1 = tslib_1.__decorate([
        Directive({
            selector: '[max]',
            providers: [{ provide: NG_VALIDATORS, useExisting: MaxValidationDirective_1, multi: true }]
        })
    ], MaxValidationDirective);
    return MaxValidationDirective;
}());
export { MaxValidationDirective };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWF4LXZhbGlkYXRpb24uZGlyZWN0aXZlLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGM4eS9uZ3gtY29tcG9uZW50cy8iLCJzb3VyY2VzIjpbImNvcmUvZm9ybXMvbWF4LXZhbGlkYXRpb24uZGlyZWN0aXZlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQW1CLGFBQWEsRUFBYSxNQUFNLGdCQUFnQixDQUFDO0FBQzNFLE9BQU8sRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRWpELE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxXQUFXLENBQUM7QUFNeEM7SUFKQTtRQUtXLFFBQUcsR0FBVyxFQUFFLENBQUM7SUFZNUIsQ0FBQzsrQkFiWSxzQkFBc0I7SUFHakMseUNBQVEsR0FBUixVQUFTLE9BQXdCO1FBQy9CLElBQU0sU0FBUyxHQUFHLFFBQVEsQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBQ3pDLElBQUksV0FBVyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUU7WUFDM0MsT0FBTyxJQUFJLENBQUM7U0FDYjtRQUVELElBQUksS0FBSyxHQUFHLElBQUksQ0FBQztRQUNqQixLQUFLLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxLQUFLLEdBQUcsU0FBUyxDQUFDLENBQUM7UUFDckMsT0FBTyxLQUFLLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBQyxHQUFHLEVBQUUsRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFFLEVBQUUsQ0FBQztJQUNyRCxDQUFDOztJQVhRO1FBQVIsS0FBSyxFQUFFO3VEQUFrQjtJQURmLHNCQUFzQjtRQUpsQyxTQUFTLENBQUM7WUFDVCxRQUFRLEVBQUUsT0FBTztZQUNqQixTQUFTLEVBQUUsQ0FBQyxFQUFDLE9BQU8sRUFBRSxhQUFhLEVBQUUsV0FBVyxFQUFFLHdCQUFzQixFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUMsQ0FBQztTQUN4RixDQUFDO09BQ1csc0JBQXNCLENBYWxDO0lBQUQsNkJBQUM7Q0FBQSxBQWJELElBYUM7U0FiWSxzQkFBc0IiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBYnN0cmFjdENvbnRyb2wsIE5HX1ZBTElEQVRPUlMsIFZhbGlkYXRvciB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcbmltcG9ydCB7IERpcmVjdGl2ZSwgSW5wdXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuaW1wb3J0IHsgaXNVbmRlZmluZWQgfSBmcm9tICdsb2Rhc2gtZXMnO1xuXG5ARGlyZWN0aXZlKHtcbiAgc2VsZWN0b3I6ICdbbWF4XScsXG4gIHByb3ZpZGVyczogW3twcm92aWRlOiBOR19WQUxJREFUT1JTLCB1c2VFeGlzdGluZzogTWF4VmFsaWRhdGlvbkRpcmVjdGl2ZSwgbXVsdGk6IHRydWV9XVxufSlcbmV4cG9ydCBjbGFzcyBNYXhWYWxpZGF0aW9uRGlyZWN0aXZlIGltcGxlbWVudHMgVmFsaWRhdG9yIHtcbiAgQElucHV0KCkgbWF4OiBzdHJpbmcgPSAnJztcblxuICB2YWxpZGF0ZShjb250cm9sOiBBYnN0cmFjdENvbnRyb2wpOiB7W2tleTogc3RyaW5nXTogYW55fSB8IG51bGwge1xuICAgIGNvbnN0IHBhcnNlZE1heCA9IHBhcnNlSW50KHRoaXMubWF4LCAxMCk7XG4gICAgaWYgKGlzVW5kZWZpbmVkKGNvbnRyb2wudmFsdWUpIHx8ICF0aGlzLm1heCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgbGV0IHZhbGlkID0gdHJ1ZTtcbiAgICB2YWxpZCA9ICEoY29udHJvbC52YWx1ZSA+IHBhcnNlZE1heCk7XG4gICAgcmV0dXJuIHZhbGlkID8gbnVsbCA6IHttYXg6IHsgdmFsdWU6IHBhcnNlZE1heCB9IH07XG4gIH1cbn1cbiJdfQ==