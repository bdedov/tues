!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("@angular/core"),require("@angular/forms"),require("@c8y/ngx-components"),require("lodash-es"),require("rxjs/operators"),require("@c8y/client")):"function"==typeof define&&define.amd?define("@c8y/ngx-components/default-subscriptions",["exports","@angular/core","@angular/forms","@c8y/ngx-components","lodash-es","rxjs/operators","@c8y/client"],n):n(((t=t||self).c8y=t.c8y||{},t.c8y["ngx-components"]=t.c8y["ngx-components"]||{},t.c8y["ngx-components"]["default-subscriptions"]={}),t.ng.core,t.ng.forms,t.c8y["ngx-components"],t.lodashEs,t.rxjs.operators,t.client)}(this,(function(t,n,e,r,i,o,s){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var a;function c(t,n,e,r){var i,o=arguments.length,s=o<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,n,e,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(n,e,s):i(n,e))||s);return o>3&&s&&Object.defineProperty(n,e,s),s}function u(t,n,e,r){return new(e||(e=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(s,a)}c((r=r.apply(t,n||[])).next())}))}function p(t,n){var e,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(e)throw new TypeError("Generator is already executing.");for(;s;)try{if(e=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=n.call(t,s)}catch(t){o=[6,t],r=0}finally{e=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function l(t,n){var e="function"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var r,i,o=e.call(t),s=[];try{for(;(void 0===n||n-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(e=o.return)&&e.call(o)}finally{if(i)throw i.error}}return s}function d(){for(var t=[],n=0;n<arguments.length;n++)t=t.concat(l(arguments[n]));return t}(a=t.DefaultSubscriptionsContext||(t.DefaultSubscriptionsContext={}))[a.CURRENT_TENANT=0]="CURRENT_TENANT",a[a.PARENT_TENANT=1]="PARENT_TENANT";var f=function(){function e(t,n,e,r){this.applicationService=t,this.tenantService=n,this.tenantOptionsService=e,this.humanizeAppNamePipe=r}return e.prototype.getSubscribableTenantApps=function(){return u(this,void 0,void 0,(function(){var t,n,e,r,s,a,c,l=this;return p(this,(function(f){switch(f.label){case 0:return[4,this.tenantService.current()];case 1:return t=f.sent().data,[4,this.applicationService.listByTenant(null,{pageSize:2e3})];case 2:return n=f.sent().data,e=n.filter((function(n){return n.owner.tenant.id===t.name})),r=n.filter((function(n){return n.owner.tenant.id!==t.name})),s=d(e),r.forEach((function(t){s.some((function(n){return n.name===t.name}))||s.push(t)})),[4,Promise.all(s.map((function(t){return u(l,void 0,void 0,(function(){var n;return p(this,(function(e){switch(e.label){case 0:return[4,this.humanizeAppNamePipe.transform(t.name).pipe(o.debounceTime(250),o.take(1)).toPromise()];case 1:return n=e.sent(),[2,{app:t,humanizedName:n}]}}))}))})))];case 3:return a=f.sent(),c=i.sortBy(a,["humanizedName"]),[2,c.map((function(t){return t.app}))]}}))}))},e.prototype.getDefaultSubscriptionsEvaluatedFromParentTenant=function(){return u(this,void 0,void 0,(function(){return p(this,(function(n){return[2,this.getDefaultSubscriptions(t.DefaultSubscriptionsContext.PARENT_TENANT)]}))}))},e.prototype.getDefaultSubscriptionsFromCurrentTenant=function(){return u(this,void 0,void 0,(function(){return p(this,(function(n){return[2,this.getDefaultSubscriptions(t.DefaultSubscriptionsContext.CURRENT_TENANT)]}))}))},e.prototype.saveDefaultSubscriptionsToCurrentTenant=function(t){return u(this,void 0,void 0,(function(){return p(this,(function(n){switch(n.label){case 0:return[4,this.saveOnCreationSubscriptions(t)];case 1:return n.sent(),[4,this.saveOnUpgradeSubscriptions(t)];case 2:return n.sent(),[2]}}))}))},e.prototype.getDefaultSubscriptions=function(n){return u(this,void 0,void 0,(function(){var e,r,i,o,s,a,c,u,l,d,f,b,v,h;return p(this,(function(p){switch(p.label){case 0:switch(n){case t.DefaultSubscriptionsContext.CURRENT_TENANT:e={evaluate:"current"},r=!0;break;case t.DefaultSubscriptionsContext.PARENT_TENANT:e={evaluate:"inherited"},r=!1}return[4,this.getTenantOptions(e)];case 1:return i=p.sent(),o=i.onCreationApps,s=i.onCreationMicroservices,a=i.onUpgradeAppsEnabled,c=i.onUpgradeApps,u=i.onUpgradeMicroservicesEnabled,l=i.onUpgradeMicroservices,d=this.namesToPartialApps({appsNamesStr:o,microservicesNamesStr:s}),f=r?null:o,b=r?null:s,v=this.namesToPartialApps({appsNamesStr:a?c:f,microservicesNamesStr:u?l:b}),h={onCreationSubscriptions:d,onUpgradeSubscriptions:v},r&&(h.overrideOnCreationSubscriptions=null!==o||null!==s,h.overrideOnUpgradeSubscriptions=a||u),[2,h]}}))}))},e.prototype.getTenantOptions=function(t){return void 0===t&&(t={}),u(this,void 0,void 0,(function(){var n;return p(this,(function(e){switch(e.label){case 0:return n={},[4,this.getTenantOption({category:"configuration",key:"default.tenant.applications"},null,t)];case 1:return n.onCreationApps=e.sent(),[4,this.getTenantOption({category:"configuration",key:"default.tenant.microservices"},null,t)];case 2:return n.onCreationMicroservices=e.sent(),[4,this.getTenantOption({category:"configuration",key:"on-update.tenant.applications.enabled"},!1,t)];case 3:return n.onUpgradeAppsEnabled=e.sent(),[4,this.getTenantOption({category:"configuration",key:"on-update.tenant.applications"},null,t)];case 4:return n.onUpgradeApps=e.sent(),[4,this.getTenantOption({category:"configuration",key:"on-update.tenant.microservices.enabled"},!1,t)];case 5:return n.onUpgradeMicroservicesEnabled=e.sent(),[4,this.getTenantOption({category:"configuration",key:"on-update.tenant.microservices"},null,t)];case 6:return[2,(n.onUpgradeMicroservices=e.sent(),n)]}}))}))},e.prototype.saveOnCreationSubscriptions=function(t){return u(this,void 0,void 0,(function(){return p(this,(function(n){switch(n.label){case 0:return t.overrideOnCreationSubscriptions?[4,this.setTenantOption({category:"configuration",key:"default.tenant.applications",value:this.partialAppsListToAppsNames(t.onCreationSubscriptions)})]:[3,3];case 1:return n.sent(),[4,this.setTenantOption({category:"configuration",key:"default.tenant.microservices",value:this.partialAppsToMicroservicesNames(t.onCreationSubscriptions)})];case 2:return n.sent(),[3,6];case 3:return[4,this.unsetTenantOption({category:"configuration",key:"default.tenant.applications"})];case 4:return n.sent(),[4,this.unsetTenantOption({category:"configuration",key:"default.tenant.microservices"})];case 5:n.sent(),n.label=6;case 6:return[2]}}))}))},e.prototype.saveOnUpgradeSubscriptions=function(t){return u(this,void 0,void 0,(function(){return p(this,(function(n){switch(n.label){case 0:return t.overrideOnUpgradeSubscriptions?[4,this.setTenantOption({category:"configuration",key:"on-update.tenant.applications.enabled",value:"true"})]:[3,5];case 1:return n.sent(),[4,this.setTenantOption({category:"configuration",key:"on-update.tenant.microservices.enabled",value:"true"})];case 2:return n.sent(),[4,this.setTenantOption({category:"configuration",key:"on-update.tenant.applications",value:this.partialAppsListToAppsNames(t.onUpgradeSubscriptions)})];case 3:return n.sent(),[4,this.setTenantOption({category:"configuration",key:"on-update.tenant.microservices",value:this.partialAppsToMicroservicesNames(t.onUpgradeSubscriptions)})];case 4:return n.sent(),[3,10];case 5:return[4,this.unsetTenantOption({category:"configuration",key:"on-update.tenant.applications.enabled"})];case 6:return n.sent(),[4,this.unsetTenantOption({category:"configuration",key:"on-update.tenant.microservices.enabled"})];case 7:return n.sent(),[4,this.unsetTenantOption({category:"configuration",key:"on-update.tenant.applications"})];case 8:return n.sent(),[4,this.unsetTenantOption({category:"configuration",key:"on-update.tenant.microservices"})];case 9:n.sent(),n.label=10;case 10:return[2]}}))}))},e.prototype.getTenantOption=function(t,n,e){return void 0===n&&(n=null),void 0===e&&(e={}),u(this,void 0,void 0,(function(){var r;return p(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.tenantOptionsService.detail(t,e)];case 1:return r=o.sent().data.value,r=JSON.parse(r),[3,3];case 2:return o.sent(),r=i.isUndefined(r)?n:r,[3,3];case 3:return[2,r]}}))}))},e.prototype.setTenantOption=function(t){return u(this,void 0,void 0,(function(){return p(this,(function(n){return[2,this.tenantOptionsService.update(t)]}))}))},e.prototype.unsetTenantOption=function(t){return u(this,void 0,void 0,(function(){var n;return p(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.tenantOptionsService.delete(t)];case 1:return e.sent(),[3,3];case 2:if(!(n=e.sent())||!n.res||404!==n.res.status)throw n;return[3,3];case 3:return[2]}}))}))},e.prototype.namesToPartialApps=function(t){var n=t.appsNamesStr,e=t.microservicesNamesStr;return null===n&&null===e?null:d((n||"").split(",").filter((function(t){return t.length})).map((function(t){return{name:t.trim()}})),(e||"").split(",").filter((function(t){return t.length})).map((function(t){return{name:t.trim(),type:s.ApplicationType.MICROSERVICE}})))},e.prototype.partialAppsListToAppsNames=function(t){return t.filter((function(t){return t.type!==s.ApplicationType.MICROSERVICE})).map((function(t){return t.name})).join(",")},e.prototype.partialAppsToMicroservicesNames=function(t){return t.filter((function(t){return t.type===s.ApplicationType.MICROSERVICE})).map((function(t){return t.name})).join(",")},e.ctorParameters=function(){return[{type:s.ApplicationService},{type:s.TenantService},{type:s.TenantOptionsService},{type:r.HumanizeAppNamePipe}]},e=c([n.Injectable()],e)}(),b=function(){function t(t,n,e){this.fb=t,this.defaultSubscriptionsService=n,this.alertService=e}return t.prototype.ngOnInit=function(){return u(this,void 0,void 0,(function(){return p(this,(function(t){switch(t.label){case 0:return this.loading=!0,[4,this.initForm()];case 1:return t.sent(),[4,this.loadDefaultSubscriptions()];case 2:return t.sent(),this.loading=!1,[2]}}))}))},t.prototype.initForm=function(){return u(this,void 0,void 0,(function(){var t,n,e=this;return p(this,(function(r){switch(r.label){case 0:return this.form=this.fb.group({overrideOnCreationSubscriptions:[""],overrideOnUpgradeSubscriptions:[""],appRows:this.fb.array([])}),[4,this.defaultSubscriptionsService.getSubscribableTenantApps()];case 1:return t=r.sent(),n=this.form.controls.appRows,t.forEach((function(t){n.push(e.fb.group({app:[t],subscribedOnCreation:[""],subscribedOnUpgrade:[""]}))})),this.form.get("overrideOnCreationSubscriptions").valueChanges.subscribe((function(t){return e.onOverrideOnCreationSubscriptionsChange(t)})),this.form.get("overrideOnUpgradeSubscriptions").valueChanges.subscribe((function(t){return e.onOverrideOnUpgradeSubscriptionsChange(t)})),[2]}}))}))},t.prototype.shouldShowAppRow=function(t){var n=t.subscribedOnCreation,e=t.subscribedOnUpgrade,r=this.form.value,i=r.overrideOnCreationSubscriptions,o=r.overrideOnUpgradeSubscriptions;return n||e||i||o},t.prototype.isEmptyView=function(){var t=this;return!this.form.getRawValue().appRows.some((function(n){return t.shouldShowAppRow(n)}))},t.prototype.isSubscribed=function(t,n){return n&&n.some((function(n){return n.name===t.name}))},t.prototype.save=function(){return u(this,void 0,void 0,(function(){var t,n;return p(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),t=this.getDefaultSubscriptionsForSave(),[4,this.defaultSubscriptionsService.saveDefaultSubscriptionsToCurrentTenant(t)];case 1:return e.sent(),this.alertService.success(r.gettext("Saved.")),[3,3];case 2:return n=e.sent(),this.alertService.addServerFailure(n),[3,3];case 3:return[2]}}))}))},t.prototype.onOverrideOnCreationSubscriptionsChange=function(t){this.form.controls.appRows.controls;t?this.enableSubscribeOnCreationCheckboxes():(this.disableSubscribeOnCreationCheckboxes(),this.restoreSubscribeOnCreationFromParent())},t.prototype.enableSubscribeOnCreationCheckboxes=function(){this.form.controls.appRows.controls.forEach((function(t){t.get("subscribedOnCreation").enable({emitEvent:!1})}))},t.prototype.disableSubscribeOnCreationCheckboxes=function(){this.form.controls.appRows.controls.forEach((function(t){t.get("subscribedOnCreation").disable({emitEvent:!1})}))},t.prototype.restoreSubscribeOnCreationFromParent=function(){var t=this;this.form.controls.appRows.controls.forEach((function(n){n.patchValue({subscribedOnCreation:t.isSubscribed(n.value.app,t.parentDefaultSubscriptions.onCreationSubscriptions)})}))},t.prototype.onOverrideOnUpgradeSubscriptionsChange=function(t){this.form.controls.appRows.controls;t?this.enableSubscribeOnUpgradeCheckboxes():(this.disableSubscribeOnUpgradeCheckboxes(),this.restoreSubscribeOnUpgradeFromParent())},t.prototype.enableSubscribeOnUpgradeCheckboxes=function(){this.form.controls.appRows.controls.forEach((function(t){t.get("subscribedOnUpgrade").enable({emitEvent:!1})}))},t.prototype.disableSubscribeOnUpgradeCheckboxes=function(){this.form.controls.appRows.controls.forEach((function(t){t.get("subscribedOnUpgrade").disable({emitEvent:!1})}))},t.prototype.restoreSubscribeOnUpgradeFromParent=function(){var t=this;this.form.controls.appRows.controls.forEach((function(n){n.patchValue({subscribedOnUpgrade:t.isSubscribed(n.value.app,t.parentDefaultSubscriptions.onUpgradeSubscriptions)})}))},t.prototype.loadDefaultSubscriptions=function(){return u(this,void 0,void 0,(function(){var t,n,e,r,i,o,s,a=this;return p(this,(function(c){switch(c.label){case 0:return t=this,[4,this.defaultSubscriptionsService.getDefaultSubscriptionsEvaluatedFromParentTenant()];case 1:return t.parentDefaultSubscriptions=c.sent(),n=this,[4,this.defaultSubscriptionsService.getDefaultSubscriptionsFromCurrentTenant()];case 2:return n.currentDefaultSubscriptions=c.sent(),e=this.currentDefaultSubscriptions,r=e.overrideOnCreationSubscriptions,i=e.overrideOnUpgradeSubscriptions,o=r?this.currentDefaultSubscriptions.onCreationSubscriptions:this.parentDefaultSubscriptions.onCreationSubscriptions,s=i?this.currentDefaultSubscriptions.onUpgradeSubscriptions:this.parentDefaultSubscriptions.onUpgradeSubscriptions,this.form.patchValue({overrideOnCreationSubscriptions:r,overrideOnUpgradeSubscriptions:i}),this.form.controls.appRows.controls.forEach((function(t){t.patchValue({subscribedOnCreation:a.isSubscribed(t.value.app,o),subscribedOnUpgrade:a.isSubscribed(t.value.app,s)})})),[2]}}))}))},t.prototype.getDefaultSubscriptionsForSave=function(){var t=this.form.value;return{overrideOnCreationSubscriptions:t.overrideOnCreationSubscriptions,onCreationSubscriptions:t.overrideOnCreationSubscriptions?t.appRows.filter((function(t){return t.subscribedOnCreation})).map((function(t){return t.app})):null,overrideOnUpgradeSubscriptions:t.overrideOnUpgradeSubscriptions,onUpgradeSubscriptions:t.overrideOnUpgradeSubscriptions?t.appRows.filter((function(t){return t.subscribedOnUpgrade})).map((function(t){return t.app})):null}},t.ctorParameters=function(){return[{type:e.FormBuilder},{type:f},{type:r.AlertService}]},t=c([n.Component({selector:"c8y-default-subscriptions",template:'<c8y-title>{{ \'Default subscriptions\' | translate }}</c8y-title>\n\n<form [formGroup]="form" (ngSubmit)="save()">\n  <div class="card card--fullpage">\n    <div class="card-header separator">\n      <h4 class="card-title" translate>Default subscriptions</h4>\n    </div>\n    <div class="inner-scroll">\n      <div class="card--grid grid__col--2-8-2--md grid__col--3-6-3">\n        <div class="card-block large-padding bg-gray-white sticky-top separator-bottom p-b-0">\n          <p><strong translate>Applications subscribed to a tenant on creation</strong></p>\n          <div class="text-center">\n            <label class="c8y-switch">\n              <input type="checkbox" formControlName="overrideOnCreationSubscriptions" />\n              <span></span> {{ \'Override inherited\' | translate }}\n            </label>\n          </div>\n        </div>\n        <div class="card-block bg-white sticky-top separator-bottom">\n          <p><b translate>Applications</b></p>\n          <p translate>\n            Configure default subscriptions in the platform, both for tenant creation\n            and for platform upgrade. To display a full list of available applications, override\n            inherited settings.\n          </p>\n        </div>\n        <div class="card-block large-padding bg-gray-white sticky-top separator-bottom p-b-0">\n          <p><strong translate>Applications subscribed to a tenant on platform upgrade</strong></p>\n          <div class="text-center">\n            <label class="c8y-switch">\n              <input type="checkbox" formControlName="overrideOnUpgradeSubscriptions" />\n              <span></span> {{ \'Override inherited\' | translate }}\n            </label>\n          </div>\n        </div>\n        <div class="card-block bg-gray-white" *ngIf="loading"></div>\n        <div class="card-block bg-white" *ngIf="loading">\n          <div class="p-r-48 p-b-24 d-inline-block" style="position:relative;">\n            <div class="spinner">\n              <div class="rect1"></div>\n              <div class="rect2"></div>\n              <div class="rect3"></div>\n              <div class="rect4"></div>\n              <div class="rect5"></div>\n            </div>\n          </div>\n          <span translate>Loading application subscriptions…</span>\n        </div>\n        <div class="card-block bg-gray-white" *ngIf="loading"></div>\n        <ng-container formArrayName="appRows" class="d-contents">\n          <div class="bg-gray-white" *ngIf="!loading && isEmptyView()"></div>\n          <div class="card-block bg-white" *ngIf="!loading && isEmptyView()">\n            <div class="c8y-empty-state">\n              <h1 class="c8y-icon c8y-icon-c8y-data c8y-icon-duocolor"></h1>\n              <h3 translate>No application subscriptions yet.</h3>\n              <p translate>\n                Select "Override inherited" to define the list of subscribed applications.\n              </p>\n            </div>\n          </div>\n          <div class="bg-gray-white" *ngIf="!loading && isEmptyView()"></div>\n\n          <div\n            *ngFor="let appRowControl of form.get(\'appRows\')[\'controls\']; let i = index"\n            class="d-contents"\n          >\n            <ng-container\n              *ngIf="shouldShowAppRow(appRowControl.getRawValue())"\n              formArrayName="{{ i }}"\n              class="d-contents"\n            >\n              <div class="c8y-list__item d-flex d-col bg-gray-white text-center">\n                <div class="flex-item-middle">\n                  <label\n                    class="c8y-checkbox d-inline-block"\n                    [ngClass]="{ disabled: appRowControl.controls.subscribedOnCreation.disabled }"\n                  >\n                    <input type="checkbox" formControlName="subscribedOnCreation" />\n                    <span></span>\n                  </label>\n                </div>\n              </div>\n\n              <div class="c8y-list__item bg-white">\n                <div class="c8y-list__item__block">\n                  <div class="c8y-list__item__appicon">\n                    <c8y-app-icon\n                      [app]="appRowControl.value.app"\n                      [name]="appRowControl.value.app.name"\n                      [contextPath]="appRowControl.value.app.contextPath"\n                    ></c8y-app-icon>\n                  </div>\n                  <div class="c8y-list__item__body">\n                    <div class="content-flex-50">\n                      <div class="col-6">\n                        <p\n                          class="text-truncate"\n                          title="{{ appRowControl.value.app | humanizeAppName | async }}"\n                        >\n                          {{ appRowControl.value.app | humanizeAppName | async }}\n                        </p>\n                        <small class="text-muted">{{ appRowControl.value.app.contextPath }}</small>\n                      </div>\n                      <div class="col-6">\n                        <p>\n                          <span class="text-label-small m-r-4" translate>Tenant ID</span> \n                          {{ appRowControl.value.app.owner.tenant.id }}\n                        </p>\n                        \x3c!-- TODO: uncomment when company name is available\n                          <p>\n                          <span class="text-label-small m-r-4" translate>Company</span>\n                          <small class="text-muted">company name</small>\n                        </p> --\x3e\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div class="c8y-list__item d-flex d-col bg-gray-white text-center">\n                <div class="flex-item-middle">\n                  <label\n                    class="c8y-checkbox d-inline-block"\n                    [ngClass]="{ disabled: appRowControl.controls.subscribedOnUpgrade.disabled }"\n                  >\n                    <input type="checkbox" formControlName="subscribedOnUpgrade" />\n                    <span></span>\n                  </label>\n                </div>\n              </div>\n            </ng-container>\n          </div>\n        </ng-container>\n      </div>\n    </div>\n    <div class="card-footer separator">\n      <button\n        type="submit"\n        class="btn btn-primary"\n        [disabled]="form.invalid || form.pristine"\n        title="{{ \'Save default subscriptions\' | translate }}"\n      >\n        {{ \'Save\' | translate }}\n      </button>\n    </div>\n  </div>\n</form>\n'})],t)}(),v=function(){function t(t){this.tenantUiService=t}return t.prototype.canActivate=function(){return u(this,void 0,void 0,(function(){var t,n;return p(this,(function(e){switch(e.label){case 0:return void 0!==this.active?[3,4]:(t=this,[4,this.tenantUiService.isManagementTenant()]);case 1:return(n=e.sent())?[3,3]:[4,this.tenantUiService.isEnterpriseTenant()];case 2:n=e.sent(),e.label=3;case 3:t.active=n,e.label=4;case 4:return[2,this.active]}}))}))},t.ctorParameters=function(){return[{type:r.TenantUiService}]},t=c([n.Injectable()],t)}(),h=function(){function t(t){this.defaultSubscriptionsGuard=t,this.navNode=new r.NavigatorNode({label:r.gettext("Default subscriptions"),path:"/default-subscriptions",icon:"c8y-c8y-data",parent:r.gettext("Applications"),priority:1e3})}return t.prototype.get=function(){return u(this,void 0,void 0,(function(){return p(this,(function(t){switch(t.label){case 0:return[4,this.defaultSubscriptionsGuard.canActivate()];case 1:return t.sent()?[2,this.navNode]:[2]}}))}))},t.ctorParameters=function(){return[{type:v}]},t=c([n.Injectable()],t)}(),g=[{path:"default-subscriptions",component:b,canActivate:[v]}],m=function(){function t(){}return t=c([n.NgModule({imports:[r.CoreModule,e.ReactiveFormsModule],declarations:[b],entryComponents:[b],exports:[b],providers:[f,v,{provide:r.HOOK_NAVIGATOR_NODES,useClass:h,multi:!0},{provide:r.HOOK_ONCE_ROUTE,useValue:g,multi:!0}]})],t)}();t.DefaultSubscriptionsComponent=b,t.DefaultSubscriptionsModule=m,t.DefaultSubscriptionsService=f,t.ɵ0=g,t.ɵa=v,t.ɵb=h,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=c8y-ngx-components-default-subscriptions.umd.min.js.map