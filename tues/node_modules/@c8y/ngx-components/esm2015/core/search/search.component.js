import * as tslib_1 from "tslib";
import { Component, Input, Output, ViewChild, EventEmitter } from '@angular/core';
import { SearchService } from './search.service';
let SearchComponent = class SearchComponent {
    constructor(searchService) {
        this.searchService = searchService;
        this.icon = 'search';
        this.priority = 0;
        this.search = new EventEmitter();
        this.term = '';
    }
    onSearch() {
        this.search.emit(this);
    }
    ngAfterViewInit() {
        this.template = undefined;
        this.viewInitTimeout = setTimeout(() => this.searchService.add(this));
    }
    ngOnDestroy() {
        clearTimeout(this.viewInitTimeout);
        this.searchService.remove(this);
    }
};
SearchComponent.ctorParameters = () => [
    { type: SearchService }
];
tslib_1.__decorate([
    Input()
], SearchComponent.prototype, "name", void 0);
tslib_1.__decorate([
    Input()
], SearchComponent.prototype, "icon", void 0);
tslib_1.__decorate([
    Input()
], SearchComponent.prototype, "priority", void 0);
tslib_1.__decorate([
    ViewChild('template', { static: false })
], SearchComponent.prototype, "template", void 0);
tslib_1.__decorate([
    Output()
], SearchComponent.prototype, "search", void 0);
tslib_1.__decorate([
    Input()
], SearchComponent.prototype, "term", void 0);
SearchComponent = tslib_1.__decorate([
    Component({
        selector: 'c8y-search',
        template: "<ng-template #template>\n  <ng-content></ng-content>\n</ng-template>"
    })
], SearchComponent);
export { SearchComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VhcmNoLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BjOHkvbmd4LWNvbXBvbmVudHMvIiwic291cmNlcyI6WyJjb3JlL3NlYXJjaC9zZWFyY2guY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsU0FBUyxFQUFFLFlBQVksRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUVsRixPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFNakQsSUFBYSxlQUFlLEdBQTVCLE1BQWEsZUFBZTtJQVUxQixZQUFvQixhQUE0QjtRQUE1QixrQkFBYSxHQUFiLGFBQWEsQ0FBZTtRQVJ2QyxTQUFJLEdBQVcsUUFBUSxDQUFDO1FBQ3hCLGFBQVEsR0FBVyxDQUFDLENBQUM7UUFFcEIsV0FBTSxHQUFHLElBQUksWUFBWSxFQUFVLENBQUM7UUFDckMsU0FBSSxHQUFXLEVBQUUsQ0FBQztJQUl5QixDQUFDO0lBRXJELFFBQVE7UUFDTixJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUN6QixDQUFDO0lBRUQsZUFBZTtRQUNiLElBQUksQ0FBQyxRQUFRLEdBQUcsU0FBUyxDQUFDO1FBQzFCLElBQUksQ0FBQyxlQUFlLEdBQUcsVUFBVSxDQUFDLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsR0FBRyxDQUFDLElBQWMsQ0FBQyxDQUFDLENBQUM7SUFDbEYsQ0FBQztJQUVELFdBQVc7UUFDVCxZQUFZLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDO1FBQ25DLElBQUksQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDLElBQWMsQ0FBQyxDQUFDO0lBQzVDLENBQUM7Q0FDRixDQUFBOztZQWZvQyxhQUFhOztBQVR2QztJQUFSLEtBQUssRUFBRTs2Q0FBYztBQUNiO0lBQVIsS0FBSyxFQUFFOzZDQUF5QjtBQUN4QjtJQUFSLEtBQUssRUFBRTtpREFBc0I7QUFDVTtJQUF2QyxTQUFTLENBQUMsVUFBVSxFQUFFLEVBQUMsTUFBTSxFQUFFLEtBQUssRUFBQyxDQUFDO2lEQUFlO0FBQzVDO0lBQVQsTUFBTSxFQUFFOytDQUFxQztBQUNyQztJQUFSLEtBQUssRUFBRTs2Q0FBbUI7QUFOaEIsZUFBZTtJQUozQixTQUFTLENBQUM7UUFDVCxRQUFRLEVBQUUsWUFBWTtRQUN0QixnRkFBc0M7S0FDdkMsQ0FBQztHQUNXLGVBQWUsQ0F5QjNCO1NBekJZLGVBQWUiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIElucHV0LCBPdXRwdXQsIFZpZXdDaGlsZCwgRXZlbnRFbWl0dGVyIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBTZWFyY2ggfSBmcm9tICcuL3NlYXJjaC5tb2RlbCc7XG5pbXBvcnQgeyBTZWFyY2hTZXJ2aWNlIH0gZnJvbSAnLi9zZWFyY2guc2VydmljZSc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2M4eS1zZWFyY2gnLFxuICB0ZW1wbGF0ZVVybDogJy4vc2VhcmNoLmNvbXBvbmVudC5odG1sJ1xufSlcbmV4cG9ydCBjbGFzcyBTZWFyY2hDb21wb25lbnQgaW1wbGVtZW50cyBTZWFyY2gge1xuICBASW5wdXQoKSBuYW1lOiBzdHJpbmc7XG4gIEBJbnB1dCgpIGljb246IHN0cmluZyA9ICdzZWFyY2gnO1xuICBASW5wdXQoKSBwcmlvcml0eTogbnVtYmVyID0gMDtcbiAgQFZpZXdDaGlsZCgndGVtcGxhdGUnLCB7c3RhdGljOiBmYWxzZX0pIHRlbXBsYXRlOiBhbnk7XG4gIEBPdXRwdXQoKSBzZWFyY2ggPSBuZXcgRXZlbnRFbWl0dGVyPFNlYXJjaD4oKTtcbiAgQElucHV0KCkgdGVybTogc3RyaW5nID0gJyc7XG5cbiAgcHJpdmF0ZSB2aWV3SW5pdFRpbWVvdXQ7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBzZWFyY2hTZXJ2aWNlOiBTZWFyY2hTZXJ2aWNlKSB7IH1cblxuICBvblNlYXJjaCgpIHtcbiAgICB0aGlzLnNlYXJjaC5lbWl0KHRoaXMpO1xuICB9XG5cbiAgbmdBZnRlclZpZXdJbml0KCkge1xuICAgIHRoaXMudGVtcGxhdGUgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy52aWV3SW5pdFRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHRoaXMuc2VhcmNoU2VydmljZS5hZGQodGhpcyBhcyBTZWFyY2gpKTtcbiAgfVxuXG4gIG5nT25EZXN0cm95KCkge1xuICAgIGNsZWFyVGltZW91dCh0aGlzLnZpZXdJbml0VGltZW91dCk7XG4gICAgdGhpcy5zZWFyY2hTZXJ2aWNlLnJlbW92ZSh0aGlzIGFzIFNlYXJjaCk7XG4gIH1cbn1cbiJdfQ==