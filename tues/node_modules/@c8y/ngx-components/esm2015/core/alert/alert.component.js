import * as tslib_1 from "tslib";
import { Component, Input, ViewChild, ContentChild } from '@angular/core';
import { AlertService } from './alert.service';
import { AlertDetailsComponent } from './alert-details.component';
/**
 * Alert component allows creating alert with complex view.
 */
let AlertComponent = class AlertComponent {
    /**
     * @ignore
     */
    constructor(alertService) {
        this.alertService = alertService;
    }
    /**
     * AlertComponent adds new alert to collection stored in alertService after view init.
     */
    ngAfterViewInit() {
        if (!this.containDetailsComponent) {
            this.detailedData = null;
        }
        this.viewInitTimeout = setTimeout(() => this.alertService.add(this));
    }
    /**
     * AlertComponent removes alert from collection stored in alertService on destroy component.
     */
    ngOnDestroy() {
        clearTimeout(this.viewInitTimeout);
        this.alertService.remove(this);
    }
};
AlertComponent.ctorParameters = () => [
    { type: AlertService }
];
tslib_1.__decorate([
    Input()
], AlertComponent.prototype, "type", void 0);
tslib_1.__decorate([
    Input()
], AlertComponent.prototype, "onDetail", void 0);
tslib_1.__decorate([
    Input()
], AlertComponent.prototype, "onClose", void 0);
tslib_1.__decorate([
    ViewChild('detailedData', { static: false })
], AlertComponent.prototype, "detailedData", void 0);
tslib_1.__decorate([
    ViewChild('text', { static: false })
], AlertComponent.prototype, "text", void 0);
tslib_1.__decorate([
    ContentChild(AlertDetailsComponent, { static: false })
], AlertComponent.prototype, "containDetailsComponent", void 0);
AlertComponent = tslib_1.__decorate([
    Component({
        selector: 'c8y-alert',
        template: "<ng-template #text>\r\n  <ng-content select=\"c8y-alert-text\"></ng-content>\r\n  <ng-content></ng-content>\r\n</ng-template>\r\n<ng-template #detailedData>\r\n  <ng-content select=\"c8y-alert-details\"></ng-content>\r\n</ng-template>"
    })
], AlertComponent);
export { AlertComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWxlcnQuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGM4eS9uZ3gtY29tcG9uZW50cy8iLCJzb3VyY2VzIjpbImNvcmUvYWxlcnQvYWxlcnQuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFhLEtBQUssRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRXJGLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUMvQyxPQUFPLEVBQUUscUJBQXFCLEVBQUUsTUFBTSwyQkFBMkIsQ0FBQztBQUVsRTs7R0FFRztBQU9ILElBQWEsY0FBYyxHQUEzQixNQUFhLGNBQWM7SUErQnpCOztPQUVHO0lBQ0gsWUFBbUIsWUFBMEI7UUFBMUIsaUJBQVksR0FBWixZQUFZLENBQWM7SUFBRyxDQUFDO0lBRWpEOztPQUVHO0lBQ0gsZUFBZTtRQUNiLElBQUksQ0FBQyxJQUFJLENBQUMsdUJBQXVCLEVBQUU7WUFDakMsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUM7U0FDMUI7UUFDRCxJQUFJLENBQUMsZUFBZSxHQUFHLFVBQVUsQ0FBQyxHQUFHLEVBQUUsQ0FDckMsSUFBSSxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQzVCLENBQUM7SUFDSixDQUFDO0lBRUQ7O09BRUc7SUFDSCxXQUFXO1FBQ1QsWUFBWSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQztRQUNuQyxJQUFJLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNqQyxDQUFDO0NBQ0YsQ0FBQTs7WUFyQmtDLFlBQVk7O0FBN0JwQztJQUFSLEtBQUssRUFBRTs0Q0FBNEQ7QUFJM0Q7SUFBUixLQUFLLEVBQUU7Z0RBQXNCO0FBSXJCO0lBQVIsS0FBSyxFQUFFOytDQUFxQjtBQUllO0lBQTNDLFNBQVMsQ0FBQyxjQUFjLEVBQUUsRUFBQyxNQUFNLEVBQUUsS0FBSyxFQUFDLENBQUM7b0RBQWM7QUFJckI7SUFBbkMsU0FBUyxDQUFDLE1BQU0sRUFBRSxFQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUMsQ0FBQzs0Q0FBTTtBQUlhO0lBQXJELFlBQVksQ0FBQyxxQkFBcUIsRUFBRSxFQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUMsQ0FBQzsrREFBZ0Q7QUF6QjFGLGNBQWM7SUFMMUIsU0FBUyxDQUFDO1FBQ1QsUUFBUSxFQUFFLFdBQVc7UUFDckIsc1BBQXFDO0tBQ3RDLENBQUM7R0FFVyxjQUFjLENBdUQxQjtTQXZEWSxjQUFjIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBPbkRlc3Ryb3ksIElucHV0LCBWaWV3Q2hpbGQsIENvbnRlbnRDaGlsZCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQWxlcnQgfSBmcm9tICcuL2FsZXJ0Lm1vZGVsJztcbmltcG9ydCB7IEFsZXJ0U2VydmljZSB9IGZyb20gJy4vYWxlcnQuc2VydmljZSc7XG5pbXBvcnQgeyBBbGVydERldGFpbHNDb21wb25lbnQgfSBmcm9tICcuL2FsZXJ0LWRldGFpbHMuY29tcG9uZW50JztcblxuLyoqXG4gKiBBbGVydCBjb21wb25lbnQgYWxsb3dzIGNyZWF0aW5nIGFsZXJ0IHdpdGggY29tcGxleCB2aWV3LlxuICovXG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2M4eS1hbGVydCcsXG4gIHRlbXBsYXRlVXJsOiAnLi9hbGVydC5jb21wb25lbnQuaHRtbCdcbn0pXG5cbmV4cG9ydCBjbGFzcyBBbGVydENvbXBvbmVudCBpbXBsZW1lbnRzIE9uRGVzdHJveSwgQWxlcnQge1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0aGUgYWxlcnQuXG4gICAqL1xuICBASW5wdXQoKSB0eXBlOiAnc3VjY2VzcycgfCAnd2FybmluZycgfCAnZGFuZ2VyJyB8ICdpbmZvJyB8ICdzeXN0ZW0nO1xuICAvKipcbiAgICogRnVuY3Rpb24gdG8gY2FsbCBpZiB1c2VyIGNsaWNrcyBvbiB0aGUgZGV0YWlsIGJ1dHRvbi5cbiAgICovXG4gIEBJbnB1dCgpIG9uRGV0YWlsOiAoKSA9PiB2b2lkO1xuICAvKipcbiAgICogRnVuY3Rpb24gdG8gY2FsbCBpZiB1c2VyIGNsaWNrcyBvbiB0aGUgY2xvc2UgYnV0dG9uLlxuICAgKi9cbiAgQElucHV0KCkgb25DbG9zZTogKCkgPT4gdm9pZDtcbiAgLyoqXG4gICAqIERldGFpbGVkIGluZm9ybWF0aW9uIHRvIGRpc3BsYXkuXG4gICAqL1xuICBAVmlld0NoaWxkKCdkZXRhaWxlZERhdGEnLCB7c3RhdGljOiBmYWxzZX0pIGRldGFpbGVkRGF0YTtcbiAgLyoqXG4gICAqIFRoZSB0ZXh0IHRlbXBsYXRlUmVmIHRvIGRpc3BsYXkgbWVzc2FnZS5cbiAgICovXG4gIEBWaWV3Q2hpbGQoJ3RleHQnLCB7c3RhdGljOiBmYWxzZX0pIHRleHQ7XG4gIC8qKlxuICAgKiBDb250ZW50IG9mIEFsZXJ0RGV0YWlsc0NvbXBvbmVudCBpcyBkaXNwbGF5ZWQgYXMgYWxlcnREZXRhaWxzLlxuICAgKi9cbiAgQENvbnRlbnRDaGlsZChBbGVydERldGFpbHNDb21wb25lbnQsIHtzdGF0aWM6IGZhbHNlfSkgY29udGFpbkRldGFpbHNDb21wb25lbnQ6IEFsZXJ0RGV0YWlsc0NvbXBvbmVudDtcbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIHByaXZhdGUgdmlld0luaXRUaW1lb3V0O1xuXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgYWxlcnRTZXJ2aWNlOiBBbGVydFNlcnZpY2UpIHt9XG5cbiAgLyoqXG4gICAqIEFsZXJ0Q29tcG9uZW50IGFkZHMgbmV3IGFsZXJ0IHRvIGNvbGxlY3Rpb24gc3RvcmVkIGluIGFsZXJ0U2VydmljZSBhZnRlciB2aWV3IGluaXQuXG4gICAqL1xuICBuZ0FmdGVyVmlld0luaXQoKSB7XG4gICAgaWYgKCF0aGlzLmNvbnRhaW5EZXRhaWxzQ29tcG9uZW50KSB7XG4gICAgICB0aGlzLmRldGFpbGVkRGF0YSA9IG51bGw7XG4gICAgfVxuICAgIHRoaXMudmlld0luaXRUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PlxuICAgICAgdGhpcy5hbGVydFNlcnZpY2UuYWRkKHRoaXMpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBbGVydENvbXBvbmVudCByZW1vdmVzIGFsZXJ0IGZyb20gY29sbGVjdGlvbiBzdG9yZWQgaW4gYWxlcnRTZXJ2aWNlIG9uIGRlc3Ryb3kgY29tcG9uZW50LlxuICAgKi9cbiAgbmdPbkRlc3Ryb3koKSB7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMudmlld0luaXRUaW1lb3V0KTtcbiAgICB0aGlzLmFsZXJ0U2VydmljZS5yZW1vdmUodGhpcyk7XG4gIH1cbn1cbiJdfQ==