import './import-locales';
import { parse } from './parse-module';
const cache = new Map();
/**
 * @ignore
 */
export function loadLocale(moduleLang) {
    return new Promise((resolve, reject) => {
        if (cache.has(moduleLang)) {
            resolve(cache.get(moduleLang));
        }
        else {
            fetch(`assets/locales/angular/${moduleLang}.js`)
                .then((res) => res.text())
                .then((src) => {
                const module = parse(src);
                cache.set(moduleLang, module);
                resolve(module);
            })
                .catch(reject);
        }
    });
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9hZC1sb2NhbGUuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AYzh5L25neC1jb21wb25lbnRzLyIsInNvdXJjZXMiOlsiY29yZS9pMThuL2xvYWQtbG9jYWxlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sa0JBQWtCLENBQUM7QUFDMUIsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQ3ZDLE1BQU0sS0FBSyxHQUFHLElBQUksR0FBRyxFQUFFLENBQUM7QUFDeEI7O0dBRUc7QUFDSCxNQUFNLFVBQVUsVUFBVSxDQUFDLFVBQVU7SUFDbkMsT0FBTyxJQUFJLE9BQU8sQ0FBQyxDQUFDLE9BQU8sRUFBRSxNQUFNLEVBQUUsRUFBRTtRQUNyQyxJQUFJLEtBQUssQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLEVBQUU7WUFDekIsT0FBTyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQztTQUNoQzthQUFNO1lBQ0wsS0FBSyxDQUFDLDBCQUEwQixVQUFVLEtBQUssQ0FBQztpQkFDN0MsSUFBSSxDQUFDLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLENBQUM7aUJBQ3pCLElBQUksQ0FBQyxDQUFDLEdBQUcsRUFBRSxFQUFFO2dCQUNaLE1BQU0sTUFBTSxHQUFHLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFDMUIsS0FBSyxDQUFDLEdBQUcsQ0FBQyxVQUFVLEVBQUUsTUFBTSxDQUFDLENBQUM7Z0JBQzlCLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUNsQixDQUFDLENBQUM7aUJBQ0QsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1NBQ2xCO0lBQ0gsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICcuL2ltcG9ydC1sb2NhbGVzJztcbmltcG9ydCB7IHBhcnNlIH0gZnJvbSAnLi9wYXJzZS1tb2R1bGUnO1xuY29uc3QgY2FjaGUgPSBuZXcgTWFwKCk7XG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxvYWRMb2NhbGUobW9kdWxlTGFuZykge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGlmIChjYWNoZS5oYXMobW9kdWxlTGFuZykpIHtcbiAgICAgIHJlc29sdmUoY2FjaGUuZ2V0KG1vZHVsZUxhbmcpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZmV0Y2goYGFzc2V0cy9sb2NhbGVzL2FuZ3VsYXIvJHttb2R1bGVMYW5nfS5qc2ApXG4gICAgICAgIC50aGVuKChyZXMpID0+IHJlcy50ZXh0KCkpXG4gICAgICAgIC50aGVuKChzcmMpID0+IHtcbiAgICAgICAgICBjb25zdCBtb2R1bGUgPSBwYXJzZShzcmMpO1xuICAgICAgICAgIGNhY2hlLnNldChtb2R1bGVMYW5nLCBtb2R1bGUpO1xuICAgICAgICAgIHJlc29sdmUobW9kdWxlKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKHJlamVjdCk7XG4gICAgfVxuICB9KTtcbn1cbiJdfQ==