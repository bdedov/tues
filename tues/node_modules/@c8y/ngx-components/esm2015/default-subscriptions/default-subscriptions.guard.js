import * as tslib_1 from "tslib";
import { Injectable } from '@angular/core';
import { TenantUiService } from '@c8y/ngx-components';
let DefaultSubscriptionsGuard = class DefaultSubscriptionsGuard {
    constructor(tenantUiService) {
        this.tenantUiService = tenantUiService;
    }
    /**
     * Checks if default subscriptions feature should be active,
     * i.e. whether the current tenant is the management or an enterprise tenant.
     * **Note: the check is executed only once in the runtime.**
     *
     * @returns True, if the feature should be active.
     */
    canActivate() {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            if (this.active === undefined) {
                this.active =
                    (yield this.tenantUiService.isManagementTenant()) ||
                        (yield this.tenantUiService.isEnterpriseTenant());
            }
            return this.active;
        });
    }
};
DefaultSubscriptionsGuard.ctorParameters = () => [
    { type: TenantUiService }
];
DefaultSubscriptionsGuard = tslib_1.__decorate([
    Injectable()
], DefaultSubscriptionsGuard);
export { DefaultSubscriptionsGuard };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVmYXVsdC1zdWJzY3JpcHRpb25zLmd1YXJkLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGM4eS9uZ3gtY29tcG9uZW50cy9kZWZhdWx0LXN1YnNjcmlwdGlvbnMvIiwic291cmNlcyI6WyJkZWZhdWx0LXN1YnNjcmlwdGlvbnMuZ3VhcmQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFM0MsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBR3RELElBQWEseUJBQXlCLEdBQXRDLE1BQWEseUJBQXlCO0lBR3BDLFlBQW9CLGVBQWdDO1FBQWhDLG9CQUFlLEdBQWYsZUFBZSxDQUFpQjtJQUFHLENBQUM7SUFFeEQ7Ozs7OztPQU1HO0lBQ0csV0FBVzs7WUFDZixJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssU0FBUyxFQUFFO2dCQUM3QixJQUFJLENBQUMsTUFBTTtvQkFDVCxDQUFDLE1BQU0sSUFBSSxDQUFDLGVBQWUsQ0FBQyxrQkFBa0IsRUFBRSxDQUFDO3dCQUNqRCxDQUFDLE1BQU0sSUFBSSxDQUFDLGVBQWUsQ0FBQyxrQkFBa0IsRUFBRSxDQUFDLENBQUM7YUFDckQ7WUFDRCxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUM7UUFDckIsQ0FBQztLQUFBO0NBQ0YsQ0FBQTs7WUFqQnNDLGVBQWU7O0FBSHpDLHlCQUF5QjtJQURyQyxVQUFVLEVBQUU7R0FDQSx5QkFBeUIsQ0FvQnJDO1NBcEJZLHlCQUF5QiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IENhbkFjdGl2YXRlIH0gZnJvbSAnQGFuZ3VsYXIvcm91dGVyJztcbmltcG9ydCB7IFRlbmFudFVpU2VydmljZSB9IGZyb20gJ0BjOHkvbmd4LWNvbXBvbmVudHMnO1xuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgRGVmYXVsdFN1YnNjcmlwdGlvbnNHdWFyZCBpbXBsZW1lbnRzIENhbkFjdGl2YXRlIHtcbiAgcHJpdmF0ZSBhY3RpdmU6IGJvb2xlYW47XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSB0ZW5hbnRVaVNlcnZpY2U6IFRlbmFudFVpU2VydmljZSkge31cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGRlZmF1bHQgc3Vic2NyaXB0aW9ucyBmZWF0dXJlIHNob3VsZCBiZSBhY3RpdmUsXG4gICAqIGkuZS4gd2hldGhlciB0aGUgY3VycmVudCB0ZW5hbnQgaXMgdGhlIG1hbmFnZW1lbnQgb3IgYW4gZW50ZXJwcmlzZSB0ZW5hbnQuXG4gICAqICoqTm90ZTogdGhlIGNoZWNrIGlzIGV4ZWN1dGVkIG9ubHkgb25jZSBpbiB0aGUgcnVudGltZS4qKlxuICAgKlxuICAgKiBAcmV0dXJucyBUcnVlLCBpZiB0aGUgZmVhdHVyZSBzaG91bGQgYmUgYWN0aXZlLlxuICAgKi9cbiAgYXN5bmMgY2FuQWN0aXZhdGUoKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgaWYgKHRoaXMuYWN0aXZlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuYWN0aXZlID1cbiAgICAgICAgKGF3YWl0IHRoaXMudGVuYW50VWlTZXJ2aWNlLmlzTWFuYWdlbWVudFRlbmFudCgpKSB8fFxuICAgICAgICAoYXdhaXQgdGhpcy50ZW5hbnRVaVNlcnZpY2UuaXNFbnRlcnByaXNlVGVuYW50KCkpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5hY3RpdmU7XG4gIH1cbn1cbiJdfQ==