function c8yNg1HttpInterceptor($q, c8yLoadingIndicator, c8yApiService) {
    'ngInject';
    function request(config) {
        const { url, method } = config;
        c8yApiService.onStart({ url, method, options: config });
        return config;
    }
    function requestError(rejection) {
        finishRequest(rejection);
        return $q.reject(rejection);
    }
    function response(res) {
        finishRequest(res);
        return res;
    }
    function responseError(rejection) {
        finishRequest(rejection);
        c8yLoadingIndicator.responseError(rejection);
        return $q.reject(rejection);
    }
    function finishRequest(res) {
        const { url, method } = res.config;
        c8yApiService.onFinish({
            url,
            method,
            response: res,
            options: res.config
        });
    }
    return {
        request,
        requestError,
        response,
        responseError
    };
}
export { c8yNg1HttpInterceptor };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaHR0cC5pbnRlcmNlcHRvci5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BjOHkvbmd4LWNvbXBvbmVudHMvdXBncmFkZS8iLCJzb3VyY2VzIjpbIm5nMS9odHRwLmludGVyY2VwdG9yLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLFNBQVMscUJBQXFCLENBQzVCLEVBQUUsRUFDRixtQkFBbUIsRUFDbkIsYUFBYTtJQUViLFVBQVUsQ0FBQztJQUVYLFNBQVMsT0FBTyxDQUFDLE1BQU07UUFDckIsTUFBTSxFQUFFLEdBQUcsRUFBRSxNQUFNLEVBQUUsR0FBRyxNQUFNLENBQUM7UUFDL0IsYUFBYSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEdBQUcsRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLE1BQU0sRUFBRSxDQUFDLENBQUM7UUFDeEQsT0FBTyxNQUFNLENBQUM7SUFDaEIsQ0FBQztJQUVELFNBQVMsWUFBWSxDQUFDLFNBQVM7UUFDN0IsYUFBYSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ3pCLE9BQU8sRUFBRSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUM5QixDQUFDO0lBRUQsU0FBUyxRQUFRLENBQUMsR0FBRztRQUNuQixhQUFhLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDbkIsT0FBTyxHQUFHLENBQUM7SUFDYixDQUFDO0lBRUQsU0FBUyxhQUFhLENBQUMsU0FBUztRQUM5QixhQUFhLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDekIsbUJBQW1CLENBQUMsYUFBYSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQzdDLE9BQU8sRUFBRSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUM5QixDQUFDO0lBRUQsU0FBUyxhQUFhLENBQUMsR0FBRztRQUN4QixNQUFNLEVBQUUsR0FBRyxFQUFFLE1BQU0sRUFBRSxHQUFHLEdBQUcsQ0FBQyxNQUFNLENBQUM7UUFDbkMsYUFBYSxDQUFDLFFBQVEsQ0FBQztZQUNyQixHQUFHO1lBQ0gsTUFBTTtZQUNOLFFBQVEsRUFBRSxHQUFHO1lBQ2IsT0FBTyxFQUFFLEdBQUcsQ0FBQyxNQUFNO1NBQ3BCLENBQUMsQ0FBQztJQUNMLENBQUM7SUFFRCxPQUFPO1FBQ0wsT0FBTztRQUNQLFlBQVk7UUFDWixRQUFRO1FBQ1IsYUFBYTtLQUNkLENBQUM7QUFDSixDQUFDO0FBRUQsT0FBTyxFQUFFLHFCQUFxQixFQUFFLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBjOHlOZzFIdHRwSW50ZXJjZXB0b3IoXHJcbiAgJHEsXHJcbiAgYzh5TG9hZGluZ0luZGljYXRvcixcclxuICBjOHlBcGlTZXJ2aWNlXHJcbikge1xyXG4gICduZ0luamVjdCc7XHJcblxyXG4gIGZ1bmN0aW9uIHJlcXVlc3QoY29uZmlnKSB7XHJcbiAgICBjb25zdCB7IHVybCwgbWV0aG9kIH0gPSBjb25maWc7XHJcbiAgICBjOHlBcGlTZXJ2aWNlLm9uU3RhcnQoeyB1cmwsIG1ldGhvZCwgb3B0aW9uczogY29uZmlnIH0pO1xyXG4gICAgcmV0dXJuIGNvbmZpZztcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHJlcXVlc3RFcnJvcihyZWplY3Rpb24pIHtcclxuICAgIGZpbmlzaFJlcXVlc3QocmVqZWN0aW9uKTtcclxuICAgIHJldHVybiAkcS5yZWplY3QocmVqZWN0aW9uKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHJlc3BvbnNlKHJlcykge1xyXG4gICAgZmluaXNoUmVxdWVzdChyZXMpO1xyXG4gICAgcmV0dXJuIHJlcztcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHJlc3BvbnNlRXJyb3IocmVqZWN0aW9uKSB7XHJcbiAgICBmaW5pc2hSZXF1ZXN0KHJlamVjdGlvbik7XHJcbiAgICBjOHlMb2FkaW5nSW5kaWNhdG9yLnJlc3BvbnNlRXJyb3IocmVqZWN0aW9uKTtcclxuICAgIHJldHVybiAkcS5yZWplY3QocmVqZWN0aW9uKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGZpbmlzaFJlcXVlc3QocmVzKSB7XHJcbiAgICBjb25zdCB7IHVybCwgbWV0aG9kIH0gPSByZXMuY29uZmlnO1xyXG4gICAgYzh5QXBpU2VydmljZS5vbkZpbmlzaCh7XHJcbiAgICAgIHVybCxcclxuICAgICAgbWV0aG9kLFxyXG4gICAgICByZXNwb25zZTogcmVzLFxyXG4gICAgICBvcHRpb25zOiByZXMuY29uZmlnXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICByZXF1ZXN0LFxyXG4gICAgcmVxdWVzdEVycm9yLFxyXG4gICAgcmVzcG9uc2UsXHJcbiAgICByZXNwb25zZUVycm9yXHJcbiAgfTtcclxufVxyXG5cclxuZXhwb3J0IHsgYzh5TmcxSHR0cEludGVyY2VwdG9yIH07XHJcbiJdfQ==