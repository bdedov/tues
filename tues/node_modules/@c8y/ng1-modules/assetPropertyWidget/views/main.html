<div ng-controller="assetPropertyWidgetCtrl">
  <c8y-schema-form
    schema="schema"
    form="form"
    model="managedObject"
    class="widget"
    ng-class="{'form-read-only': !editable}"
  >
  </c8y-schema-form>
  <c8y-if-allowed admin-mos="[managedObject]">
    <div class="top-m-lg right-m-md left-m-md bottom-m-lg">
      <button
        title="{{ 'Add fragment' | translate }}"
        ng-show="editable && canAddProperties()"
        class="btn-add-block"
        ng-click="addProperties()"
      >
        <i c8y-icon="plus-circle"></i>
        <translate>Add fragment</translate>
      </button>
    </div>

    <div c8y-widget-footer>
      <button
        title="{{ 'Edit' | translate }}"
        class="btn btn-link"
        style="min-width:0; padding-left:0;"
        ng-click="startEdit()"
        ng-show="!editable"
      >
        <i c8y-icon="pencil"></i>
        <translate>Edit</translate>
      </button>
      <button
        title="{{ 'Cancel' | translate }}"
        class="btn btn-default btn-sm"
        ng-click="cancelEdit()"
        ng-show="editable"
        translate
      >
        Cancel
      </button>
      <button
        title="{{ 'Save' | translate }}"
        class="btn btn-primary btn-sm"
        ng-click="save()"
        ng-show="editable"
        translate
      >
        Save
      </button>
    </div>
  </c8y-if-allowed>
</div>
