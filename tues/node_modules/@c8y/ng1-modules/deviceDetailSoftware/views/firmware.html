<div class="card flex-col" ng-controller="deviceDetailFirmwareVPCtrl" ng-show="visible()">
  <div class="card-header col-xs-12">
    <h4 class="card-title" translate>Firmware</h4>
  </div>
  <hr style="width: 100%;" />

  <div class="card-block col-xs-12">
    <label class="small" translate>Current firmware</label>
    <p class="static-control">{{ getCurrentFirmware() }}</p>
  </div>

  <form
    class="bg-gray-white flex-item-bottom col-xs-12"
    role="form"
    name="newOptionForm"
    ng-if="actionable()"
  >
    <div class="card-block">
      <div class="legend form-block" translate>Firmware to install</div>
      <div class="form-group">
        <ui-select ng-model="newFirmware.selected" class="form-control" append-to-body="true">
          <ui-select-match
            placeholder="{{ 'Select a firmware from the list.' | translate }}"
            title="{{ $select.selected.name }} &ndash; {{ $select.selected.version }}"
          >
            {{ $select.selected.name }} &ndash; {{ $select.selected.version }}
          </ui-select-match>
          <ui-select-choices
            repeat="f in firmwares | orderBy:['name','version'] | filter: $select.search"
          >
            <span title="{{ f.name }} &ndash; {{ f.version }}">
              {{ f.name }} &ndash; {{ f.version }}
            </span>
          </ui-select-choices>
        </ui-select>
      </div>
      <button
        title="{{ 'Install' | translate }}"
        type="button"
        class="btn btn-primary"
        ng-disabled="!newFirmware.selected"
        ng-click="uploadFirmware(device, newFirmware.selected); newFirmware.selected = undefined;"
        translate
      >
        Install
      </button>
    </div>
  </form>
</div>
