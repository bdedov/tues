"use strict";!function(){function e(i,t,n,e,c,a,o,r){function l(){var e=o("Devices"),n=r.getString("Showing {{devices.length}} of {{totalDevices}}",i);a.changeTitle({title:t.deviceId?void 0:e,subtitle:n})}function s(e){i.devices=null,c.list(e).then(g)}function g(e){i.devices||(i.devices=[]),e.forEach(function(e){i.devices.push(e)}),i.paging=e.paging}_.assign(i,{loadNext:function(e){i.paging.loading=!0,(e?s({pageSize:e}):i.paging.next().then(g)).finally(function(){i.paging.loading=!1})},refresh:function(){i.devices=null,i.refreshLoading=!0,i.paging.refresh().then(g).finally(function(){i.refreshLoading=!1}),i.paging=null},model:function(e){var n=c.isVendme(e)?"com_nsn_startups_vendme_fragments_VendingMachineTypeInfo":"c8y_Hardware",i=e&&e[n];return i&&i.model},serial:function(e){var n=c.isVendme(e),i=n?"com_nsn_startups_vendme_fragments_VendingMachineTypeInfo":"c8y_Hardware",t=n?"serial":"serialNumber",a=e&&e[i];return a&&a[t]},navigateToDetail:function(e){n.url("device/".concat(e.id))},getDeviceName:function(e){return e.name||o("-- device name not defined --")}}),i.$watch("devices.length",l),i.$watch("totalDevices",l),l(),s(),c.getCount().then(function(e){i.totalDevices=e})}e.$inject=["$scope","$routeParams","$location","$filter","c8yDevices","c8yTitle","gettext","gettextCatalog"],angular.module("c8y.parts.helloWorld").controller("deviceListCtrl",e)}();