"use strict";!function(){function t(c,i,a,r){function t(){return!0}function e(n,e,t){var c=t(n,e);n.changePending=!0,function(n){return i.createWithNotifications(n).then(function(t){return t.created.then(_.partial(a.success,r.getString('"{{description | translate}}" will be executed.',n))),t.completed.then(function(t){return t.status===i.status.SUCCESSFUL?a.success(r.getString('"{{description | translate}}" completed.',n)):t.status===i.status.FAILED&&a.danger(r.getString('"{{description | translate}}" failed.',n)),t})})}(c).then(function(t){t.status===i.status.SUCCESSFUL?(n.value=e,n.changePending=!1):t.status===i.status.FAILED&&(n.changePending=!1)})}function u(t,n){return s(t,n)}function o(t,n){var e=s(t,n);return e.description='Change value of "'.concat(t.name,'" to ').concat(n,"."),e}function s(t,n){var e=t.unit?" ".concat(t.unit):"";return{deviceId:c.child.config.device.id,description:'Change value of "'.concat(t.name,'" to ').concat(n).concat(e,"."),c8y_SetRegister:{address:t.address,value:n}}}c.canUpdateField=t,c.isFieldChangePending=function(t){return!!t.changePending},c.updateRegisterField=function(t,n){e(t,n,u)},c.updateCoilField=function(t,n){e(t,n,o)}}t.$inject=["$scope","c8yDeviceControl","c8yAlert","gettextCatalog"],angular.module("c8y.knxWidget").controller("knxWidgetCtrl",t)}();