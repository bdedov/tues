"use strict";!function(){function t(t,n,e,o,c,a,r,u,i){var l=this;function s(){c.getContract().then(function(t){l.contractInfo=t})}_.assign(l,{$onInit:function(){s(),n.changeTitle({title:r.TITLE})},updateCustomerContractInfo:function(){var t=l.contractInfo.Customer;a.updateCustomerData(t).then(function(){e.success(o("Customer data updated."))},function(t){e.danger(o("Customer data update failed."),t)})},cancelCustomerContract:function(){var t={title:o("Close account"),body:o("You are about to close your account. Do you want to proceed?"),status:"danger",labels:{ok:o("Close account")}};return u(t).then(c.cancelContract).then(function(){e.success(o("Your account has been closed."))})},createUpgradeToEnterpriseModal:function(){return u({templateUrl:":::PLUGIN_PATH:::/upgradeToEnterprise/upgradeToEnterprise.html"})},editBillingInfoModal:function(){return u({templateUrl:":::PLUGIN_PATH:::/billingInfoEditor/editCustomerBillingInfo.html",scope:t})},createUpgradeToStandardModal:function(){return i.open({component:"upgradeToStandardEditionWizard",resolve:{contractInfo:_.constant(l.contractInfo)}}).result.then(s)},changePaymentMethod:function(t){a.changePaymentMethod(t).then(s).then(function(){e.success(o("Payment method changed."))})},updateCustomer:function(t){l.contractInfo.Customer=t}})}t.$inject=["$scope","c8yTitle","c8yAlert","gettext","customerBillingSvc","paymentGatewaySvc","billingConstants","c8yModal","c8yWizardModal"],angular.module("c8y.customerBilling").component("customerBilling",{controller:t,controllerAs:"vm",templateUrl:":::PLUGIN_PATH:::/customerBilling.html"})}();