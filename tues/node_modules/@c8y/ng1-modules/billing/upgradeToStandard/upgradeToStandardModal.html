<div class="modal-header bg-primary text-center">
  <div style="font-size: 62px;">
    <span class="c8y-icon c8y-icon-administration-reverse"></span>
  </div>
  <h4 class="text-uppercase" style="margin:0; letter-spacing: 0.15em;" translate>
    Standard Edition
  </h4>
</div>

<div class="modal-body">
  <pre>{{ vm.upgradeData | json }}</pre>

  <!-- each step must be validated before proceeding to the next. please discuss the process with me as the feedback and flow involves some logic -->
  <uib-tabset active="active" justified="true" class="steps-navbar" ng-show="active != 3">
    <uib-tab
      index="0"
      heading="{{ 'Billing information' | translate }}"
      ng-class="{'success': active > 2}"
    >
      <div ng-form name="vm.customerDataForm">
        <edit-customer-info customer="vm.upgradeData.customerData"></edit-customer-info>
      </div>
    </uib-tab>

    <uib-tab
      index="1"
      heading="{{ 'Payment method' | translate }}"
      disable="true"
      ng-class="{'success': active > 2}"
    >
      <div ng-form name="vm.paymentDataForm">
        <payment-method-form payment-data="vm.upgradeData.paymentData"></payment-method-form>
      </div>
    </uib-tab>

    <uib-tab
      index="2"
      heading="{{ 'Place order' | translate }}"
      disable="true"
      ng-class="{'success': active > 3}"
    >
      <confirm-plan-upgrade upgrade-data="vm.upgradeData"></confirm-plan-upgrade>
    </uib-tab>

    <!-- this is for demo purposes -->
    <uib-tab index="3" heading="result" disable="true" style="display: none;"> </uib-tab>
  </uib-tabset>

  <div class="result-message" ng-show="active === 3">
    <div class="bg-success text-center">
      <span style="font-size: 46px">
        <i c8y-icon="check"></i>
      </span>
      <span class="lead" style="vertical-align: text-bottom;" translate>
        Upgrade completed.
      </span>
    </div>
    <div class="modal-body text-center">
      <p class="lead" translate>Your upgrade was successfully completed.</p>
      <p translate>We will use the provided information on the next billing cycle.</p>
    </div>
  </div>
</div>

<div class="modal-footer">
  <button
    title="{{ 'Cancel' | translate }}"
    class="btn btn-default"
    ng-click="vm.modalInstance.dismiss()"
    ng-show="active != 3"
    translate
  >
    Cancel
  </button>
  <button
    title="{{ 'Next' | translate }}"
    class="btn btn-primary"
    ng-click="active = 1"
    ng-show="active === 0"
    ng-disabled="vm.customerDataForm.$invalid"
    translate
  >
    Next
  </button>
  <button
    title="{{ 'Next' | translate }}"
    class="btn btn-primary"
    ng-click="active = 2"
    ng-show="active === 1"
    ng-disabled="vm.paymentDataForm.$invalid"
    translate
  >
    Next
  </button>
  <button
    title="{{ 'Place order' | translate }}"
    class="btn btn-primary"
    ng-show="active === 2"
    ng-click="vm.placeOrder()"
    translate
  >
    Place order
  </button>
  <button
    title="{{ 'Close' | translate }}"
    class="btn btn-primary"
    ng-show="active === 3"
    ng-click="vm.modalInstace.dismiss()"
    translate
  >
    Close
  </button>
</div>
