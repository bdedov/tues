"use strict";!function(){function e(e,t,n,r,a){var o=this,u=r("You need these roles to manage demo data: Inventory Read/Admin, Simulator Admin, Smart rule Read/Admin");function s(){n.getDemoStatus().then(function(e){o.demoStatus=e})}function i(e){return{deviceName:_.get(e,"name"),groupName:_.get(e,"assetParents.references[0].managedObject.name")}}_.assign(o,{$onInit:function(){n.checkPermissions().then(function(e){(o.allowed=e)||t.warning(u)}),s()},setupDemo:function(){return e.open({component:"c8yDemoSetupWizard",backdrop:"static",keyboard:!1}).result.then(s)},triggerErrorConditions:function(){n.replaceMeasurementValues(o.demoStatus.simulators[0],"c8y_Temperature","T","errorValuesRange").then(function(e){return o.demoStatus.errorConditionsEnabled=!0,n.saveDemoStatus(o.demoStatus).then(function(){t.success(a.getString('Error conditions triggered on device "{{deviceName}}" in group "{{groupName}}".',i(e)))})})},clearErrorConditions:function(){n.replaceMeasurementValues(o.demoStatus.simulators[0],"c8y_Temperature","T","normalValuesRange").then(function(e){return o.demoStatus.errorConditionsEnabled=!1,n.saveDemoStatus(o.demoStatus).then(function(){t.success(a.getString('Error conditions cleared on device "{{deviceName}}" in group "{{groupName}}".',i(e)))})})},increaseTemperature:function(){n.increaseMeasurementValues(o.demoStatus.simulators[1],"c8y_Temperature","T",25).then(function(e){t.success(a.getString('Temperature increased by {{value}}°C on "{{deviceName}}" in "{{groupName}}".',_.assign({},i(e),{value:25})))})},decreaseTemperature:function(){n.increaseMeasurementValues(o.demoStatus.simulators[1],"c8y_Temperature","T",-25).then(function(e){t.success(a.getString('Temperature decreased by {{value}}°C on "{{deviceName}}" in "{{groupName}}".',_.assign({},i(e),{value:25})))})},cleanUpDemo:function(){return e.open({component:"c8yDemoCleanUpWizard",backdrop:"static",keyboard:!1}).result.then(s)}})}e.$inject=["c8yWizardModal","c8yAlert","c8yDemo","gettext","gettextCatalog"],angular.module("c8y.demo").component("c8yDemo",{templateUrl:":::PLUGIN_PATH:::/demo.html",controller:e,controllerAs:"vm"})}();