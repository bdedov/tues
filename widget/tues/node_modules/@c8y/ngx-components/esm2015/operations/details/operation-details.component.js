import * as tslib_1 from "tslib";
import { Component, Input } from '@angular/core';
import { FormBuilder, FormGroup, Validators } from '@angular/forms';
import { gettext } from '@c8y/ngx-components';
import { get } from 'lodash-es';
import { BulkOperationType } from '@c8y/ngx-components/operations/bulk-operations-service';
let OperationDetailsComponent = class OperationDetailsComponent {
    constructor(formBuilder) {
        this.formBuilder = formBuilder;
        this.titlePlaceholder = gettext('e.g. Reset factory settings');
        this.descriptionPlaceholder = gettext('e.g. Reset factory settings of all devices of model XYZ');
        this.placeholders = {
            [BulkOperationType.SOFTWARE]: {
                title: gettext('e.g. Cloud connectivity software'),
                description: gettext('e.g. Cloud connectivity software applied to devices with type c8y_Linux')
            },
            [BulkOperationType.FIRMWARE]: {
                title: gettext('e.g. Firmware for hardware revision b'),
                description: gettext('e.g. Firmware for hardware revision b applied to devices with type c8y_Linux')
            },
            [BulkOperationType.CONFIGURATION]: {
                title: gettext('e.g. Host configuration c8y_Linux'),
                description: gettext('e.g. Host configuration applied to devices with type c8y_Linux')
            },
            [BulkOperationType.DEVICE_PROFILE]: {
                title: gettext('e.g. Device profile for c8y_Linux devices'),
                description: gettext('e.g. Device profile applied to devices with type c8y_Linux')
            }
        };
    }
    set bulkOperationType(bulkOperationType) {
        this.titlePlaceholder = get(this.placeholders[bulkOperationType], 'title');
        this.descriptionPlaceholder = get(this.placeholders[bulkOperationType], 'description');
    }
    ngOnInit() {
        const config = {
            description: ['', Validators.required],
            note: [''],
            schedule: []
        };
        this.fgOperationDescription = this.formBuilder.group(config);
    }
};
OperationDetailsComponent.ctorParameters = () => [
    { type: FormBuilder }
];
tslib_1.__decorate([
    Input()
], OperationDetailsComponent.prototype, "bulkOperationType", null);
OperationDetailsComponent = tslib_1.__decorate([
    Component({
        selector: 'c8y-operation-details',
        template: "<div [formGroup]=\"fgOperationDescription\">\n  <c8y-form-group>\n    <label translate>Title</label>\n    <input\n      formControlName=\"description\"\n      class=\"form-control\"\n      [placeholder]=\"titlePlaceholder | translate\"\n      required\n    />\n    <c8y-messages *ngIf=\"fgOperationDescription?.controls?.description?.errors\">\n      <c8y-message *ngIf=\"fgOperationDescription.controls.description.errors.required\" translate>\n        This field is required.\n      </c8y-message>\n    </c8y-messages>\n  </c8y-form-group>\n  <c8y-form-group>\n    <label translate>Description</label>\n    <textarea\n      formControlName=\"note\"\n      class=\"form-control\"\n      [placeholder]=\"descriptionPlaceholder | translate\"\n      rows=\"3\"\n    ></textarea>\n  </c8y-form-group>\n  <c8y-operation-scheduler formControlName=\"schedule\"></c8y-operation-scheduler>\n</div>\n"
    })
], OperationDetailsComponent);
export { OperationDetailsComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib3BlcmF0aW9uLWRldGFpbHMuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGM4eS9uZ3gtY29tcG9uZW50cy9vcGVyYXRpb25zLyIsInNvdXJjZXMiOlsiZGV0YWlscy9vcGVyYXRpb24tZGV0YWlscy5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFVLE1BQU0sZUFBZSxDQUFDO0FBQ3pELE9BQU8sRUFBRSxXQUFXLEVBQUUsU0FBUyxFQUFFLFVBQVUsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQ3BFLE9BQU8sRUFBbUIsT0FBTyxFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFDL0QsT0FBTyxFQUFFLEdBQUcsRUFBRSxNQUFNLFdBQVcsQ0FBQztBQUNoQyxPQUFPLEVBQ0wsaUJBQWlCLEVBRWxCLE1BQU0sd0RBQXdELENBQUM7QUFNaEUsSUFBYSx5QkFBeUIsR0FBdEMsTUFBYSx5QkFBeUI7SUFvQ3BDLFlBQW9CLFdBQXdCO1FBQXhCLGdCQUFXLEdBQVgsV0FBVyxDQUFhO1FBN0I1QyxxQkFBZ0IsR0FBVyxPQUFPLENBQUMsNkJBQTZCLENBQUMsQ0FBQztRQUNsRSwyQkFBc0IsR0FBVyxPQUFPLENBQ3RDLHlEQUF5RCxDQUMxRCxDQUFDO1FBR00saUJBQVksR0FBMkU7WUFDN0YsQ0FBQyxpQkFBaUIsQ0FBQyxRQUFRLENBQUMsRUFBRTtnQkFDNUIsS0FBSyxFQUFFLE9BQU8sQ0FBQyxrQ0FBa0MsQ0FBQztnQkFDbEQsV0FBVyxFQUFFLE9BQU8sQ0FDbEIseUVBQXlFLENBQzFFO2FBQ0Y7WUFDRCxDQUFDLGlCQUFpQixDQUFDLFFBQVEsQ0FBQyxFQUFFO2dCQUM1QixLQUFLLEVBQUUsT0FBTyxDQUFDLHVDQUF1QyxDQUFDO2dCQUN2RCxXQUFXLEVBQUUsT0FBTyxDQUNsQiw4RUFBOEUsQ0FDL0U7YUFDRjtZQUNELENBQUMsaUJBQWlCLENBQUMsYUFBYSxDQUFDLEVBQUU7Z0JBQ2pDLEtBQUssRUFBRSxPQUFPLENBQUMsbUNBQW1DLENBQUM7Z0JBQ25ELFdBQVcsRUFBRSxPQUFPLENBQUMsZ0VBQWdFLENBQUM7YUFDdkY7WUFDRCxDQUFDLGlCQUFpQixDQUFDLGNBQWMsQ0FBQyxFQUFFO2dCQUNsQyxLQUFLLEVBQUUsT0FBTyxDQUFDLDJDQUEyQyxDQUFDO2dCQUMzRCxXQUFXLEVBQUUsT0FBTyxDQUFDLDREQUE0RCxDQUFDO2FBQ25GO1NBQ0YsQ0FBQztJQUU2QyxDQUFDO0lBbENoRCxJQUFJLGlCQUFpQixDQUFDLGlCQUFvQztRQUN4RCxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsaUJBQWlCLENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQztRQUMzRSxJQUFJLENBQUMsc0JBQXNCLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsaUJBQWlCLENBQUMsRUFBRSxhQUFhLENBQUMsQ0FBQztJQUN6RixDQUFDO0lBaUNELFFBQVE7UUFDTixNQUFNLE1BQU0sR0FBc0M7WUFDaEQsV0FBVyxFQUFFLENBQUMsRUFBRSxFQUFFLFVBQVUsQ0FBQyxRQUFRLENBQUM7WUFDdEMsSUFBSSxFQUFFLENBQUMsRUFBRSxDQUFDO1lBQ1YsUUFBUSxFQUFFLEVBQUU7U0FDYixDQUFDO1FBRUYsSUFBSSxDQUFDLHNCQUFzQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQy9ELENBQUM7Q0FDRixDQUFBOztZQVhrQyxXQUFXOztBQWxDNUM7SUFEQyxLQUFLLEVBQUU7a0VBSVA7QUFMVSx5QkFBeUI7SUFKckMsU0FBUyxDQUFDO1FBQ1QsUUFBUSxFQUFFLHVCQUF1QjtRQUNqQyx1NEJBQStDO0tBQ2hELENBQUM7R0FDVyx5QkFBeUIsQ0ErQ3JDO1NBL0NZLHlCQUF5QiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgSW5wdXQsIE9uSW5pdCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgRm9ybUJ1aWxkZXIsIEZvcm1Hcm91cCwgVmFsaWRhdG9ycyB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcbmltcG9ydCB7IEZvcm1Hcm91cENvbmZpZywgZ2V0dGV4dCB9IGZyb20gJ0BjOHkvbmd4LWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgZ2V0IH0gZnJvbSAnbG9kYXNoLWVzJztcbmltcG9ydCB7XG4gIEJ1bGtPcGVyYXRpb25UeXBlLFxuICBPcGVyYXRpb25EZXRhaWxzXG59IGZyb20gJ0BjOHkvbmd4LWNvbXBvbmVudHMvb3BlcmF0aW9ucy9idWxrLW9wZXJhdGlvbnMtc2VydmljZSc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2M4eS1vcGVyYXRpb24tZGV0YWlscycsXG4gIHRlbXBsYXRlVXJsOiAnb3BlcmF0aW9uLWRldGFpbHMuY29tcG9uZW50Lmh0bWwnXG59KVxuZXhwb3J0IGNsYXNzIE9wZXJhdGlvbkRldGFpbHNDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuICBASW5wdXQoKVxuICBzZXQgYnVsa09wZXJhdGlvblR5cGUoYnVsa09wZXJhdGlvblR5cGU6IEJ1bGtPcGVyYXRpb25UeXBlKSB7XG4gICAgdGhpcy50aXRsZVBsYWNlaG9sZGVyID0gZ2V0KHRoaXMucGxhY2Vob2xkZXJzW2J1bGtPcGVyYXRpb25UeXBlXSwgJ3RpdGxlJyk7XG4gICAgdGhpcy5kZXNjcmlwdGlvblBsYWNlaG9sZGVyID0gZ2V0KHRoaXMucGxhY2Vob2xkZXJzW2J1bGtPcGVyYXRpb25UeXBlXSwgJ2Rlc2NyaXB0aW9uJyk7XG4gIH1cblxuICB0aXRsZVBsYWNlaG9sZGVyOiBzdHJpbmcgPSBnZXR0ZXh0KCdlLmcuIFJlc2V0IGZhY3Rvcnkgc2V0dGluZ3MnKTtcbiAgZGVzY3JpcHRpb25QbGFjZWhvbGRlcjogc3RyaW5nID0gZ2V0dGV4dChcbiAgICAnZS5nLiBSZXNldCBmYWN0b3J5IHNldHRpbmdzIG9mIGFsbCBkZXZpY2VzIG9mIG1vZGVsIFhZWidcbiAgKTtcbiAgZmdPcGVyYXRpb25EZXNjcmlwdGlvbjogRm9ybUdyb3VwO1xuXG4gIHByaXZhdGUgcGxhY2Vob2xkZXJzOiB7IFtrZXkgaW4gQnVsa09wZXJhdGlvblR5cGVdOiB7IHRpdGxlOiBzdHJpbmc7IGRlc2NyaXB0aW9uOiBzdHJpbmcgfSB9ID0ge1xuICAgIFtCdWxrT3BlcmF0aW9uVHlwZS5TT0ZUV0FSRV06IHtcbiAgICAgIHRpdGxlOiBnZXR0ZXh0KCdlLmcuIENsb3VkIGNvbm5lY3Rpdml0eSBzb2Z0d2FyZScpLFxuICAgICAgZGVzY3JpcHRpb246IGdldHRleHQoXG4gICAgICAgICdlLmcuIENsb3VkIGNvbm5lY3Rpdml0eSBzb2Z0d2FyZSBhcHBsaWVkIHRvIGRldmljZXMgd2l0aCB0eXBlIGM4eV9MaW51eCdcbiAgICAgIClcbiAgICB9LFxuICAgIFtCdWxrT3BlcmF0aW9uVHlwZS5GSVJNV0FSRV06IHtcbiAgICAgIHRpdGxlOiBnZXR0ZXh0KCdlLmcuIEZpcm13YXJlIGZvciBoYXJkd2FyZSByZXZpc2lvbiBiJyksXG4gICAgICBkZXNjcmlwdGlvbjogZ2V0dGV4dChcbiAgICAgICAgJ2UuZy4gRmlybXdhcmUgZm9yIGhhcmR3YXJlIHJldmlzaW9uIGIgYXBwbGllZCB0byBkZXZpY2VzIHdpdGggdHlwZSBjOHlfTGludXgnXG4gICAgICApXG4gICAgfSxcbiAgICBbQnVsa09wZXJhdGlvblR5cGUuQ09ORklHVVJBVElPTl06IHtcbiAgICAgIHRpdGxlOiBnZXR0ZXh0KCdlLmcuIEhvc3QgY29uZmlndXJhdGlvbiBjOHlfTGludXgnKSxcbiAgICAgIGRlc2NyaXB0aW9uOiBnZXR0ZXh0KCdlLmcuIEhvc3QgY29uZmlndXJhdGlvbiBhcHBsaWVkIHRvIGRldmljZXMgd2l0aCB0eXBlIGM4eV9MaW51eCcpXG4gICAgfSxcbiAgICBbQnVsa09wZXJhdGlvblR5cGUuREVWSUNFX1BST0ZJTEVdOiB7XG4gICAgICB0aXRsZTogZ2V0dGV4dCgnZS5nLiBEZXZpY2UgcHJvZmlsZSBmb3IgYzh5X0xpbnV4IGRldmljZXMnKSxcbiAgICAgIGRlc2NyaXB0aW9uOiBnZXR0ZXh0KCdlLmcuIERldmljZSBwcm9maWxlIGFwcGxpZWQgdG8gZGV2aWNlcyB3aXRoIHR5cGUgYzh5X0xpbnV4JylcbiAgICB9XG4gIH07XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBmb3JtQnVpbGRlcjogRm9ybUJ1aWxkZXIpIHt9XG5cbiAgbmdPbkluaXQoKTogdm9pZCB7XG4gICAgY29uc3QgY29uZmlnOiBGb3JtR3JvdXBDb25maWc8T3BlcmF0aW9uRGV0YWlscz4gPSB7XG4gICAgICBkZXNjcmlwdGlvbjogWycnLCBWYWxpZGF0b3JzLnJlcXVpcmVkXSxcbiAgICAgIG5vdGU6IFsnJ10sXG4gICAgICBzY2hlZHVsZTogW11cbiAgICB9O1xuXG4gICAgdGhpcy5mZ09wZXJhdGlvbkRlc2NyaXB0aW9uID0gdGhpcy5mb3JtQnVpbGRlci5ncm91cChjb25maWcpO1xuICB9XG59XG4iXX0=