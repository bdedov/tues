function c8yAlertDecorator($delegate, $rootScope, $injector) {
    'ngInject';
    $delegate.add = (alert) => {
        $delegate.addAlert(transformAlert(alert));
    };
    $rootScope.$on('alert', (evt, alert) => {
        $delegate.addAlert(transformAlert(alert));
    });
    $rootScope.$on('message', (evt, alert) => {
        $delegate.addAlert(transformAlert(alert));
    });
    for (const property in $delegate) {
        if (typeof $delegate[property] === 'function') {
            $delegate[property] = $delegate[property].bind($delegate);
        }
    }
    function transformAlert(alert) {
        const newAlert = Object.assign({}, alert);
        if (alert.onClose) {
            newAlert.onClose = () => {
                $injector.invoke(alert.onClose);
            };
        }
        if (alert.onDetail) {
            newAlert.onDetail = () => {
                $injector.invoke(alert.onDetail);
            };
        }
        return newAlert;
    }
    return $delegate;
}
export { c8yAlertDecorator };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWxlcnQuZGVjb3JhdG9yLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGM4eS9uZ3gtY29tcG9uZW50cy91cGdyYWRlLyIsInNvdXJjZXMiOlsibmcxL2FsZXJ0LmRlY29yYXRvci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxTQUFTLGlCQUFpQixDQUN0QixTQUFTLEVBQ1QsVUFBVSxFQUNWLFNBQVM7SUFFWCxVQUFVLENBQUM7SUFFWCxTQUFTLENBQUMsR0FBRyxHQUFHLENBQUMsS0FBSyxFQUFFLEVBQUU7UUFDeEIsU0FBUyxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztJQUM1QyxDQUFDLENBQUM7SUFFRixVQUFVLENBQUMsR0FBRyxDQUFDLE9BQU8sRUFBRSxDQUFDLEdBQUcsRUFBRSxLQUFLLEVBQUUsRUFBRTtRQUNyQyxTQUFTLENBQUMsUUFBUSxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO0lBQzVDLENBQUMsQ0FBQyxDQUFDO0lBRUgsVUFBVSxDQUFDLEdBQUcsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxHQUFHLEVBQUUsS0FBSyxFQUFFLEVBQUU7UUFDdkMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztJQUM1QyxDQUFDLENBQUMsQ0FBQztJQUVILEtBQUssTUFBTSxRQUFRLElBQUksU0FBUyxFQUFFO1FBQ2hDLElBQUksT0FBTyxTQUFTLENBQUMsUUFBUSxDQUFDLEtBQUssVUFBVSxFQUFFO1lBQzdDLFNBQVMsQ0FBQyxRQUFRLENBQUMsR0FBRyxTQUFTLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1NBQzNEO0tBQ0Y7SUFFRCxTQUFTLGNBQWMsQ0FBQyxLQUFVO1FBQ2hDLE1BQU0sUUFBUSxxQkFBYSxLQUFLLENBQUUsQ0FBQztRQUNuQyxJQUFJLEtBQUssQ0FBQyxPQUFPLEVBQUU7WUFDakIsUUFBUSxDQUFDLE9BQU8sR0FBRyxHQUFHLEVBQUU7Z0JBQ3RCLFNBQVMsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQ2xDLENBQUMsQ0FBQztTQUNIO1FBQ0QsSUFBSSxLQUFLLENBQUMsUUFBUSxFQUFFO1lBQ2xCLFFBQVEsQ0FBQyxRQUFRLEdBQUcsR0FBRyxFQUFFO2dCQUN2QixTQUFTLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUNuQyxDQUFDLENBQUM7U0FDSDtRQUNELE9BQU8sUUFBUSxDQUFDO0lBQ2xCLENBQUM7SUFFRCxPQUFPLFNBQVMsQ0FBQztBQUNuQixDQUFDO0FBRUQsT0FBTyxFQUFFLGlCQUFpQixFQUFFLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBjOHlBbGVydERlY29yYXRvcihcclxuICAgICRkZWxlZ2F0ZSxcclxuICAgICRyb290U2NvcGUsXHJcbiAgICAkaW5qZWN0b3JcclxuKSB7XHJcbiAgJ25nSW5qZWN0JztcclxuXHJcbiAgJGRlbGVnYXRlLmFkZCA9IChhbGVydCkgPT4ge1xyXG4gICAgJGRlbGVnYXRlLmFkZEFsZXJ0KHRyYW5zZm9ybUFsZXJ0KGFsZXJ0KSk7XHJcbiAgfTtcclxuXHJcbiAgJHJvb3RTY29wZS4kb24oJ2FsZXJ0JywgKGV2dCwgYWxlcnQpID0+IHtcclxuICAgICRkZWxlZ2F0ZS5hZGRBbGVydCh0cmFuc2Zvcm1BbGVydChhbGVydCkpO1xyXG4gIH0pO1xyXG5cclxuICAkcm9vdFNjb3BlLiRvbignbWVzc2FnZScsIChldnQsIGFsZXJ0KSA9PiB7XHJcbiAgICAkZGVsZWdhdGUuYWRkQWxlcnQodHJhbnNmb3JtQWxlcnQoYWxlcnQpKTtcclxuICB9KTtcclxuXHJcbiAgZm9yIChjb25zdCBwcm9wZXJ0eSBpbiAkZGVsZWdhdGUpIHtcclxuICAgIGlmICh0eXBlb2YgJGRlbGVnYXRlW3Byb3BlcnR5XSA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAkZGVsZWdhdGVbcHJvcGVydHldID0gJGRlbGVnYXRlW3Byb3BlcnR5XS5iaW5kKCRkZWxlZ2F0ZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiB0cmFuc2Zvcm1BbGVydChhbGVydDogYW55KSB7XHJcbiAgICBjb25zdCBuZXdBbGVydDogYW55ID0geyAuLi5hbGVydCB9O1xyXG4gICAgaWYgKGFsZXJ0Lm9uQ2xvc2UpIHtcclxuICAgICAgbmV3QWxlcnQub25DbG9zZSA9ICgpID0+IHtcclxuICAgICAgICAkaW5qZWN0b3IuaW52b2tlKGFsZXJ0Lm9uQ2xvc2UpO1xyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gICAgaWYgKGFsZXJ0Lm9uRGV0YWlsKSB7XHJcbiAgICAgIG5ld0FsZXJ0Lm9uRGV0YWlsID0gKCkgPT4ge1xyXG4gICAgICAgICRpbmplY3Rvci5pbnZva2UoYWxlcnQub25EZXRhaWwpO1xyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5ld0FsZXJ0O1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuICRkZWxlZ2F0ZTtcclxufVxyXG5cclxuZXhwb3J0IHsgYzh5QWxlcnREZWNvcmF0b3IgfTtcclxuIl19