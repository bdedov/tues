import * as angular from 'angular';
function gettextCatalogDecorator($delegate, $interpolate, c8yTranslate) {
    'ngInject';
    const gettextCatalog = $delegate;
    const originalGetString = angular.bind(gettextCatalog, gettextCatalog.getString);
    function newGetString(input, scope, context) {
        if (typeof input === 'string') {
            const translatedString = originalGetString(input, scope, context);
            const interpolatedString = scope ? $interpolate(input)(scope) : input;
            let stringToReturn = translatedString;
            if (translatedString && translatedString === interpolatedString) {
                const translatedServerMessage = c8yTranslate.instant(interpolatedString);
                stringToReturn = translatedServerMessage;
            }
            return stringToReturn;
        }
        return input;
    }
    gettextCatalog.getString = newGetString;
    return gettextCatalog;
}
export { gettextCatalogDecorator };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2V0dGV4dENhdGFsb2cuZGVjb3JhdG9yLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGM4eS9uZ3gtY29tcG9uZW50cy91cGdyYWRlLyIsInNvdXJjZXMiOlsibmcxL2dldHRleHRDYXRhbG9nLmRlY29yYXRvci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEtBQUssT0FBTyxNQUFNLFNBQVMsQ0FBQztBQUVuQyxTQUFTLHVCQUF1QixDQUM5QixTQUFTLEVBQ1QsWUFBWSxFQUNaLFlBQVk7SUFFWixVQUFVLENBQUM7SUFFWCxNQUFNLGNBQWMsR0FBRyxTQUFTLENBQUM7SUFDakMsTUFBTSxpQkFBaUIsR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDLGNBQWMsRUFBRSxjQUFjLENBQUMsU0FBUyxDQUFDLENBQUM7SUFFakYsU0FBUyxZQUFZLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxPQUFPO1FBQ3pDLElBQUksT0FBTyxLQUFLLEtBQUssUUFBUSxFQUFFO1lBQzdCLE1BQU0sZ0JBQWdCLEdBQUcsaUJBQWlCLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxPQUFPLENBQUMsQ0FBQztZQUNsRSxNQUFNLGtCQUFrQixHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7WUFFdEUsSUFBSSxjQUFjLEdBQUcsZ0JBQWdCLENBQUM7WUFFdEMsSUFBSSxnQkFBZ0IsSUFBSSxnQkFBZ0IsS0FBSyxrQkFBa0IsRUFBRTtnQkFDL0QsTUFBTSx1QkFBdUIsR0FBRyxZQUFZLENBQUMsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7Z0JBQ3pFLGNBQWMsR0FBRyx1QkFBdUIsQ0FBQzthQUMxQztZQUVELE9BQU8sY0FBYyxDQUFDO1NBQ3ZCO1FBRUQsT0FBTyxLQUFLLENBQUM7SUFDZixDQUFDO0lBRUQsY0FBYyxDQUFDLFNBQVMsR0FBRyxZQUFZLENBQUM7SUFFeEMsT0FBTyxjQUFjLENBQUM7QUFDeEIsQ0FBQztBQUVELE9BQU8sRUFBRSx1QkFBdUIsRUFBRSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcblxuZnVuY3Rpb24gZ2V0dGV4dENhdGFsb2dEZWNvcmF0b3IoXG4gICRkZWxlZ2F0ZSxcbiAgJGludGVycG9sYXRlLFxuICBjOHlUcmFuc2xhdGVcbikge1xuICAnbmdJbmplY3QnO1xuXG4gIGNvbnN0IGdldHRleHRDYXRhbG9nID0gJGRlbGVnYXRlO1xuICBjb25zdCBvcmlnaW5hbEdldFN0cmluZyA9IGFuZ3VsYXIuYmluZChnZXR0ZXh0Q2F0YWxvZywgZ2V0dGV4dENhdGFsb2cuZ2V0U3RyaW5nKTtcblxuICBmdW5jdGlvbiBuZXdHZXRTdHJpbmcoaW5wdXQsIHNjb3BlLCBjb250ZXh0KSB7XG4gICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGNvbnN0IHRyYW5zbGF0ZWRTdHJpbmcgPSBvcmlnaW5hbEdldFN0cmluZyhpbnB1dCwgc2NvcGUsIGNvbnRleHQpO1xuICAgICAgY29uc3QgaW50ZXJwb2xhdGVkU3RyaW5nID0gc2NvcGUgPyAkaW50ZXJwb2xhdGUoaW5wdXQpKHNjb3BlKSA6IGlucHV0O1xuXG4gICAgICBsZXQgc3RyaW5nVG9SZXR1cm4gPSB0cmFuc2xhdGVkU3RyaW5nO1xuXG4gICAgICBpZiAodHJhbnNsYXRlZFN0cmluZyAmJiB0cmFuc2xhdGVkU3RyaW5nID09PSBpbnRlcnBvbGF0ZWRTdHJpbmcpIHtcbiAgICAgICAgY29uc3QgdHJhbnNsYXRlZFNlcnZlck1lc3NhZ2UgPSBjOHlUcmFuc2xhdGUuaW5zdGFudChpbnRlcnBvbGF0ZWRTdHJpbmcpO1xuICAgICAgICBzdHJpbmdUb1JldHVybiA9IHRyYW5zbGF0ZWRTZXJ2ZXJNZXNzYWdlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc3RyaW5nVG9SZXR1cm47XG4gICAgfVxuXG4gICAgcmV0dXJuIGlucHV0O1xuICB9XG5cbiAgZ2V0dGV4dENhdGFsb2cuZ2V0U3RyaW5nID0gbmV3R2V0U3RyaW5nO1xuXG4gIHJldHVybiBnZXR0ZXh0Q2F0YWxvZztcbn1cblxuZXhwb3J0IHsgZ2V0dGV4dENhdGFsb2dEZWNvcmF0b3IgfTtcbiJdfQ==