import * as tslib_1 from "tslib";
import { Injectable } from '@angular/core';
import { get, indexOf } from 'lodash-es';
var FIRMWARE_FRAGMENT = 'c8y_Firmware';
var SUPPORTED_OPERATIONS_FRAGMENT = 'c8y_SupportedOperations';
var FirmwareDeviceTabGuard = /** @class */ (function () {
    function FirmwareDeviceTabGuard() {
    }
    FirmwareDeviceTabGuard.prototype.canActivate = function (route) {
        var contextData = get(route, 'data.contextData') || get(route, 'parent.data.contextData');
        var supportedOperations = get(contextData, SUPPORTED_OPERATIONS_FRAGMENT);
        return !!supportedOperations
            ? indexOf(supportedOperations, FIRMWARE_FRAGMENT) >= 0
            : false;
    };
    FirmwareDeviceTabGuard = tslib_1.__decorate([
        Injectable()
    ], FirmwareDeviceTabGuard);
    return FirmwareDeviceTabGuard;
}());
export { FirmwareDeviceTabGuard };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmlybXdhcmUtZGV2aWNlLXRhYi5ndWFyZC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BjOHkvbmd4LWNvbXBvbmVudHMvcmVwb3NpdG9yeS8iLCJzb3VyY2VzIjpbImZpcm13YXJlLWRldmljZS10YWIvZmlybXdhcmUtZGV2aWNlLXRhYi5ndWFyZC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUUzQyxPQUFPLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxNQUFNLFdBQVcsQ0FBQztBQUV6QyxJQUFNLGlCQUFpQixHQUFHLGNBQWMsQ0FBQztBQUN6QyxJQUFNLDZCQUE2QixHQUFHLHlCQUF5QixDQUFDO0FBR2hFO0lBQUE7SUFRQSxDQUFDO0lBUEMsNENBQVcsR0FBWCxVQUFZLEtBQUs7UUFDZixJQUFNLFdBQVcsR0FBRyxHQUFHLENBQUMsS0FBSyxFQUFFLGtCQUFrQixDQUFDLElBQUksR0FBRyxDQUFDLEtBQUssRUFBRSx5QkFBeUIsQ0FBQyxDQUFDO1FBQzVGLElBQU0sbUJBQW1CLEdBQUcsR0FBRyxDQUFDLFdBQVcsRUFBRSw2QkFBNkIsQ0FBQyxDQUFDO1FBQzVFLE9BQU8sQ0FBQyxDQUFDLG1CQUFtQjtZQUMxQixDQUFDLENBQUMsT0FBTyxDQUFDLG1CQUFtQixFQUFFLGlCQUFpQixDQUFDLElBQUksQ0FBQztZQUN0RCxDQUFDLENBQUMsS0FBSyxDQUFDO0lBQ1osQ0FBQztJQVBVLHNCQUFzQjtRQURsQyxVQUFVLEVBQUU7T0FDQSxzQkFBc0IsQ0FRbEM7SUFBRCw2QkFBQztDQUFBLEFBUkQsSUFRQztTQVJZLHNCQUFzQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IENhbkFjdGl2YXRlIH0gZnJvbSAnQGFuZ3VsYXIvcm91dGVyJztcbmltcG9ydCB7IGdldCwgaW5kZXhPZiB9IGZyb20gJ2xvZGFzaC1lcyc7XG5cbmNvbnN0IEZJUk1XQVJFX0ZSQUdNRU5UID0gJ2M4eV9GaXJtd2FyZSc7XG5jb25zdCBTVVBQT1JURURfT1BFUkFUSU9OU19GUkFHTUVOVCA9ICdjOHlfU3VwcG9ydGVkT3BlcmF0aW9ucyc7XG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBGaXJtd2FyZURldmljZVRhYkd1YXJkIGltcGxlbWVudHMgQ2FuQWN0aXZhdGUge1xuICBjYW5BY3RpdmF0ZShyb3V0ZSkge1xuICAgIGNvbnN0IGNvbnRleHREYXRhID0gZ2V0KHJvdXRlLCAnZGF0YS5jb250ZXh0RGF0YScpIHx8IGdldChyb3V0ZSwgJ3BhcmVudC5kYXRhLmNvbnRleHREYXRhJyk7XG4gICAgY29uc3Qgc3VwcG9ydGVkT3BlcmF0aW9ucyA9IGdldChjb250ZXh0RGF0YSwgU1VQUE9SVEVEX09QRVJBVElPTlNfRlJBR01FTlQpO1xuICAgIHJldHVybiAhIXN1cHBvcnRlZE9wZXJhdGlvbnNcbiAgICAgID8gaW5kZXhPZihzdXBwb3J0ZWRPcGVyYXRpb25zLCBGSVJNV0FSRV9GUkFHTUVOVCkgPj0gMFxuICAgICAgOiBmYWxzZTtcbiAgfVxufVxuIl19