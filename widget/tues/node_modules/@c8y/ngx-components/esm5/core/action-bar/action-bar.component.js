import * as tslib_1 from "tslib";
import { Component, HostBinding, Input } from '@angular/core';
import { filter, sortBy } from 'lodash-es';
/**
 * This component is used as the outlet to show the action bars.
 * In a c8ycli app it is by default placed on the bootstrap component.
 */
var ActionBarComponent = /** @class */ (function () {
    function ActionBarComponent() {
        /**
         * Identifies if the navigator is opened. If yes, the action-bar
         * needs to move to the right.
         */
        this.navigatorOpen = false;
        /**
         * Identifies if the current view has tabs. If yes, the action bar needs
         * to move down.
         */
        this.hasTabs = false;
        /**
         * Identifies if the tabs are aligned horizontally. If yes, the tabs don't
         * need to move to the left.
         */
        this.isTabsHorizontal = false;
        /**
         * Identifies if in a mobile view the toolbar is expanded or not.
         */
        this.isPageToolbarExpanded = false;
        /**
         * Adds the default `c8y-ui-action-bar` class.
         */
        this.uiActionBar = true;
        /**
         * The current items to display in the ActionBar.
         */
        this.items = [];
    }
    Object.defineProperty(ActionBarComponent.prototype, "hidden", {
        /**
         * Returns true if no items are present and hides the action bar.
         */
        get: function () {
            return !(this.items && this.items.length);
        },
        enumerable: true,
        configurable: true
    });
    /**
     * Returns the items sorted by priority and grouped by the placement passed.
     * @param {placement} Which placement should be returned sorted.
     */
    ActionBarComponent.prototype.getSortedItems = function (placement) {
        return sortBy(filter(this.items, { placement: placement }), this.byPriority);
    };
    ActionBarComponent.prototype.byPriority = function (item) {
        return -item.priority;
    };
    tslib_1.__decorate([
        Input(), HostBinding('class.navigator-open')
    ], ActionBarComponent.prototype, "navigatorOpen", void 0);
    tslib_1.__decorate([
        Input(), HostBinding('class.has-tabs')
    ], ActionBarComponent.prototype, "hasTabs", void 0);
    tslib_1.__decorate([
        Input(), HostBinding('class.horizontal-tabs')
    ], ActionBarComponent.prototype, "isTabsHorizontal", void 0);
    tslib_1.__decorate([
        HostBinding('class.c8y-ui-action-bar')
    ], ActionBarComponent.prototype, "uiActionBar", void 0);
    tslib_1.__decorate([
        Input()
    ], ActionBarComponent.prototype, "items", void 0);
    tslib_1.__decorate([
        HostBinding()
    ], ActionBarComponent.prototype, "hidden", null);
    ActionBarComponent = tslib_1.__decorate([
        Component({
            selector: 'c8y-action-bar',
            template: "<div class=\"navbar-header\">\n  <button\n    type=\"button\"\n    class=\"navbar-toggle collapsed\"\n    (click)=\"isPageToolbarExpanded = !isPageToolbarExpanded\"\n  >\n    <span class=\"sr-only\" translate>Toggle toolbar</span>\n    <span class=\"icon-bar\"></span>\n    <span class=\"icon-bar\"></span>\n    <span class=\"icon-bar\"></span>\n  </button>\n</div>\n\n<div id=\"page-toolbar\" class=\"navbar-collapse\" [collapse]=\"!isPageToolbarExpanded\">\n  <ul class=\"nav navbar-nav navbar-left\">\n    <ng-container *ngFor=\"let item of getSortedItems('left')\">\n      <ng-container *c8yOutlet=\"item.template\"></ng-container>\n    </ng-container>\n  </ul>\n  <ul class=\"nav navbar-nav navbar-right\">\n    <ng-container *ngFor=\"let item of getSortedItems('right')\">\n      <ng-container *c8yOutlet=\"item.template\"></ng-container>\n    </ng-container>\n    <li class=\"no-remove more-wrapper\" *ngIf=\"getSortedItems('more').length > 0\">\n      <div class=\"dropdown\" dropdown>\n        <button\n          title=\"{{ 'More' | translate }}\u2026\"\n          class=\"dropdown-toggle c8y-dropdown\"\n          dropdownToggle\n          aria-haspopup=\"true\"\n          aria-expanded=\"false\"\n        >\n          <span translate>More\u2026</span>\n          <i [c8yIcon]=\"'caret-down'\"></i>\n        </button>\n        <ul class=\"dropdown-menu dropdown-menu-right\" *dropdownMenu>\n          <ng-container *ngFor=\"let item of getSortedItems('more')\">\n            <ng-container *c8yOutlet=\"item.template\"></ng-container>\n          </ng-container>\n        </ul>\n        <ul class=\"dropdown-menu visible-xs\"> \n          <ng-container *ngFor=\"let item of getSortedItems('more')\">\n            <ng-container *c8yOutlet=\"item.template\"></ng-container>\n          </ng-container>\n        </ul>\n      </div>\n    </li>\n  </ul>\n</div>\n",
            host: { class: 'c8y-ui-action-bar' }
        })
    ], ActionBarComponent);
    return ActionBarComponent;
}());
export { ActionBarComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWN0aW9uLWJhci5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AYzh5L25neC1jb21wb25lbnRzLyIsInNvdXJjZXMiOlsiY29yZS9hY3Rpb24tYmFyL2FjdGlvbi1iYXIuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFFLFdBQVcsRUFBRSxLQUFLLEVBQW9CLE1BQU0sZUFBZSxDQUFDO0FBQ2hGLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU0sV0FBVyxDQUFDO0FBRzNDOzs7R0FHRztBQU1IO0lBTEE7UUFNRTs7O1dBR0c7UUFDMkMsa0JBQWEsR0FBRyxLQUFLLENBQUM7UUFFcEU7OztXQUdHO1FBQ3FDLFlBQU8sR0FBRyxLQUFLLENBQUM7UUFFeEQ7OztXQUdHO1FBQzRDLHFCQUFnQixHQUFHLEtBQUssQ0FBQztRQUV4RTs7V0FFRztRQUNILDBCQUFxQixHQUFHLEtBQUssQ0FBQztRQUU5Qjs7V0FFRztRQUNxQyxnQkFBVyxHQUFHLElBQUksQ0FBQztRQUUzRDs7V0FFRztRQUNNLFVBQUssR0FBb0IsRUFBRSxDQUFDO0lBb0J2QyxDQUFDO0lBZmdCLHNCQUFJLHNDQUFNO1FBSHpCOztXQUVHO2FBQ1k7WUFDYixPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDNUMsQ0FBQzs7O09BQUE7SUFFRDs7O09BR0c7SUFDSCwyQ0FBYyxHQUFkLFVBQWUsU0FBb0M7UUFDakQsT0FBTyxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsRUFBRSxTQUFTLFdBQUEsRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO0lBQ3BFLENBQUM7SUFFTyx1Q0FBVSxHQUFsQixVQUFtQixJQUFJO1FBQ3JCLE9BQU8sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDO0lBQ3hCLENBQUM7SUE5QzZDO1FBQTdDLEtBQUssRUFBRSxFQUFFLFdBQVcsQ0FBQyxzQkFBc0IsQ0FBQzs2REFBdUI7SUFNNUI7UUFBdkMsS0FBSyxFQUFFLEVBQUUsV0FBVyxDQUFDLGdCQUFnQixDQUFDO3VEQUFpQjtJQU1UO1FBQTlDLEtBQUssRUFBRSxFQUFFLFdBQVcsQ0FBQyx1QkFBdUIsQ0FBQztnRUFBMEI7SUFVaEM7UUFBdkMsV0FBVyxDQUFDLHlCQUF5QixDQUFDOzJEQUFvQjtJQUtsRDtRQUFSLEtBQUssRUFBRTtxREFBNkI7SUFLdEI7UUFBZCxXQUFXLEVBQUU7b0RBRWI7SUF2Q1Usa0JBQWtCO1FBTDlCLFNBQVMsQ0FBQztZQUNULFFBQVEsRUFBRSxnQkFBZ0I7WUFDMUIsczFEQUEwQztZQUMxQyxJQUFJLEVBQUUsRUFBRSxLQUFLLEVBQUUsbUJBQW1CLEVBQUU7U0FDckMsQ0FBQztPQUNXLGtCQUFrQixDQW9EOUI7SUFBRCx5QkFBQztDQUFBLEFBcERELElBb0RDO1NBcERZLGtCQUFrQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgSG9zdEJpbmRpbmcsIElucHV0LCBBZnRlckNvbnRlbnRJbml0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBmaWx0ZXIsIHNvcnRCeSB9IGZyb20gJ2xvZGFzaC1lcyc7XG5pbXBvcnQgeyBBY3Rpb25CYXJJdGVtIH0gZnJvbSAnLi9hY3Rpb24tYmFyLm1vZGVsJztcblxuLyoqXG4gKiBUaGlzIGNvbXBvbmVudCBpcyB1c2VkIGFzIHRoZSBvdXRsZXQgdG8gc2hvdyB0aGUgYWN0aW9uIGJhcnMuXG4gKiBJbiBhIGM4eWNsaSBhcHAgaXQgaXMgYnkgZGVmYXVsdCBwbGFjZWQgb24gdGhlIGJvb3RzdHJhcCBjb21wb25lbnQuXG4gKi9cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2M4eS1hY3Rpb24tYmFyJyxcbiAgdGVtcGxhdGVVcmw6ICcuL2FjdGlvbi1iYXIuY29tcG9uZW50Lmh0bWwnLFxuICBob3N0OiB7IGNsYXNzOiAnYzh5LXVpLWFjdGlvbi1iYXInIH1cbn0pXG5leHBvcnQgY2xhc3MgQWN0aW9uQmFyQ29tcG9uZW50IHtcbiAgLyoqXG4gICAqIElkZW50aWZpZXMgaWYgdGhlIG5hdmlnYXRvciBpcyBvcGVuZWQuIElmIHllcywgdGhlIGFjdGlvbi1iYXJcbiAgICogbmVlZHMgdG8gbW92ZSB0byB0aGUgcmlnaHQuXG4gICAqL1xuICBASW5wdXQoKSBASG9zdEJpbmRpbmcoJ2NsYXNzLm5hdmlnYXRvci1vcGVuJykgbmF2aWdhdG9yT3BlbiA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBJZGVudGlmaWVzIGlmIHRoZSBjdXJyZW50IHZpZXcgaGFzIHRhYnMuIElmIHllcywgdGhlIGFjdGlvbiBiYXIgbmVlZHNcbiAgICogdG8gbW92ZSBkb3duLlxuICAgKi9cbiAgQElucHV0KCkgQEhvc3RCaW5kaW5nKCdjbGFzcy5oYXMtdGFicycpIGhhc1RhYnMgPSBmYWxzZTtcblxuICAvKipcbiAgICogSWRlbnRpZmllcyBpZiB0aGUgdGFicyBhcmUgYWxpZ25lZCBob3Jpem9udGFsbHkuIElmIHllcywgdGhlIHRhYnMgZG9uJ3RcbiAgICogbmVlZCB0byBtb3ZlIHRvIHRoZSBsZWZ0LlxuICAgKi9cbiAgQElucHV0KCkgQEhvc3RCaW5kaW5nKCdjbGFzcy5ob3Jpem9udGFsLXRhYnMnKSBpc1RhYnNIb3Jpem9udGFsID0gZmFsc2U7XG5cbiAgLyoqXG4gICAqIElkZW50aWZpZXMgaWYgaW4gYSBtb2JpbGUgdmlldyB0aGUgdG9vbGJhciBpcyBleHBhbmRlZCBvciBub3QuXG4gICAqL1xuICBpc1BhZ2VUb29sYmFyRXhwYW5kZWQgPSBmYWxzZTtcblxuICAvKipcbiAgICogQWRkcyB0aGUgZGVmYXVsdCBgYzh5LXVpLWFjdGlvbi1iYXJgIGNsYXNzLlxuICAgKi9cbiAgQEhvc3RCaW5kaW5nKCdjbGFzcy5jOHktdWktYWN0aW9uLWJhcicpIHVpQWN0aW9uQmFyID0gdHJ1ZTtcblxuICAvKipcbiAgICogVGhlIGN1cnJlbnQgaXRlbXMgdG8gZGlzcGxheSBpbiB0aGUgQWN0aW9uQmFyLlxuICAgKi9cbiAgQElucHV0KCkgaXRlbXM6IEFjdGlvbkJhckl0ZW1bXSA9IFtdO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgbm8gaXRlbXMgYXJlIHByZXNlbnQgYW5kIGhpZGVzIHRoZSBhY3Rpb24gYmFyLlxuICAgKi9cbiAgQEhvc3RCaW5kaW5nKCkgZ2V0IGhpZGRlbigpIHtcbiAgICByZXR1cm4gISh0aGlzLml0ZW1zICYmIHRoaXMuaXRlbXMubGVuZ3RoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBpdGVtcyBzb3J0ZWQgYnkgcHJpb3JpdHkgYW5kIGdyb3VwZWQgYnkgdGhlIHBsYWNlbWVudCBwYXNzZWQuXG4gICAqIEBwYXJhbSB7cGxhY2VtZW50fSBXaGljaCBwbGFjZW1lbnQgc2hvdWxkIGJlIHJldHVybmVkIHNvcnRlZC5cbiAgICovXG4gIGdldFNvcnRlZEl0ZW1zKHBsYWNlbWVudDogJ2xlZnQnIHwgJ3JpZ2h0JyB8ICdtb3JlJykge1xuICAgIHJldHVybiBzb3J0QnkoZmlsdGVyKHRoaXMuaXRlbXMsIHsgcGxhY2VtZW50IH0pLCB0aGlzLmJ5UHJpb3JpdHkpO1xuICB9XG5cbiAgcHJpdmF0ZSBieVByaW9yaXR5KGl0ZW0pIHtcbiAgICByZXR1cm4gLWl0ZW0ucHJpb3JpdHk7XG4gIH1cbn1cbiJdfQ==