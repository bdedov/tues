import * as tslib_1 from "tslib";
import { Component, ViewChild, Input } from '@angular/core';
import { HeaderService } from '../header.service';
var TitleComponent = /** @class */ (function () {
    function TitleComponent(headerService) {
        this.headerService = headerService;
        this.pageTitleUpdate = true;
    }
    TitleComponent.prototype.ngAfterViewInit = function () {
        var _this = this;
        this.viewInitTimeout = setTimeout(function () { return _this.headerService.changeTitle(_this.template, _this.pageTitleUpdate); });
    };
    TitleComponent.prototype.ngOnDestroy = function () {
        if (this.headerService.state.title === this.template) {
            clearTimeout(this.viewInitTimeout);
            this.headerService.changeTitle();
        }
    };
    TitleComponent.ctorParameters = function () { return [
        { type: HeaderService }
    ]; };
    tslib_1.__decorate([
        Input()
    ], TitleComponent.prototype, "pageTitleUpdate", void 0);
    tslib_1.__decorate([
        ViewChild('template', { static: true })
    ], TitleComponent.prototype, "template", void 0);
    TitleComponent = tslib_1.__decorate([
        Component({
            selector: 'c8y-title',
            template: "<ng-template #template>\n  <h1 class=\"text-truncate\">\n    <ng-content></ng-content>\n  </h1>\n</ng-template>\n\n"
        })
    ], TitleComponent);
    return TitleComponent;
}());
export { TitleComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGl0bGUuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGM4eS9uZ3gtY29tcG9uZW50cy8iLCJzb3VyY2VzIjpbImNvcmUvaGVhZGVyL3RpdGxlL3RpdGxlLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFpQixTQUFTLEVBQWEsU0FBUyxFQUFFLEtBQUssRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUN0RixPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFNbEQ7SUFLRSx3QkFDVSxhQUE0QjtRQUE1QixrQkFBYSxHQUFiLGFBQWEsQ0FBZTtRQUw3QixvQkFBZSxHQUFZLElBQUksQ0FBQztJQU10QyxDQUFDO0lBRUosd0NBQWUsR0FBZjtRQUFBLGlCQUVDO1FBREMsSUFBSSxDQUFDLGVBQWUsR0FBRyxVQUFVLENBQUMsY0FBTSxPQUFBLEtBQUksQ0FBQyxhQUFhLENBQUMsV0FBVyxDQUFDLEtBQUksQ0FBQyxRQUFRLEVBQUUsS0FBSSxDQUFDLGVBQWUsQ0FBQyxFQUFuRSxDQUFtRSxDQUFDLENBQUM7SUFDL0csQ0FBQztJQUVELG9DQUFXLEdBQVg7UUFDRSxJQUFJLElBQUksQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLEtBQUssS0FBSyxJQUFJLENBQUMsUUFBUSxFQUFFO1lBQ3BELFlBQVksQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUM7WUFDbkMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxXQUFXLEVBQUUsQ0FBQztTQUNsQztJQUNILENBQUM7O2dCQVp3QixhQUFhOztJQUw3QjtRQUFSLEtBQUssRUFBRTsyREFBaUM7SUFDRjtRQUF0QyxTQUFTLENBQUMsVUFBVSxFQUFFLEVBQUMsTUFBTSxFQUFFLElBQUksRUFBQyxDQUFDO29EQUFVO0lBRnJDLGNBQWM7UUFKMUIsU0FBUyxDQUFDO1lBQ1QsUUFBUSxFQUFFLFdBQVc7WUFDckIsK0hBQXFDO1NBQ3RDLENBQUM7T0FDVyxjQUFjLENBbUIxQjtJQUFELHFCQUFDO0NBQUEsQUFuQkQsSUFtQkM7U0FuQlksY0FBYyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFmdGVyVmlld0luaXQsIENvbXBvbmVudCwgT25EZXN0cm95LCBWaWV3Q2hpbGQsIElucHV0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBIZWFkZXJTZXJ2aWNlIH0gZnJvbSAnLi4vaGVhZGVyLnNlcnZpY2UnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdjOHktdGl0bGUnLFxuICB0ZW1wbGF0ZVVybDogJy4vdGl0bGUuY29tcG9uZW50Lmh0bWwnXG59KVxuZXhwb3J0IGNsYXNzIFRpdGxlQ29tcG9uZW50IGltcGxlbWVudHMgQWZ0ZXJWaWV3SW5pdCwgT25EZXN0cm95IHtcbiAgQElucHV0KCkgcGFnZVRpdGxlVXBkYXRlOiBib29sZWFuID0gdHJ1ZTtcbiAgQFZpZXdDaGlsZCgndGVtcGxhdGUnLCB7c3RhdGljOiB0cnVlfSkgdGVtcGxhdGU7XG4gIHByaXZhdGUgdmlld0luaXRUaW1lb3V0O1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgaGVhZGVyU2VydmljZTogSGVhZGVyU2VydmljZVxuICApIHt9XG5cbiAgbmdBZnRlclZpZXdJbml0KCkge1xuICAgIHRoaXMudmlld0luaXRUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB0aGlzLmhlYWRlclNlcnZpY2UuY2hhbmdlVGl0bGUodGhpcy50ZW1wbGF0ZSwgdGhpcy5wYWdlVGl0bGVVcGRhdGUpKTtcbiAgfVxuXG4gIG5nT25EZXN0cm95KCkge1xuICAgIGlmICh0aGlzLmhlYWRlclNlcnZpY2Uuc3RhdGUudGl0bGUgPT09IHRoaXMudGVtcGxhdGUpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnZpZXdJbml0VGltZW91dCk7XG4gICAgICB0aGlzLmhlYWRlclNlcnZpY2UuY2hhbmdlVGl0bGUoKTtcbiAgICB9XG4gIH1cbn1cbiJdfQ==