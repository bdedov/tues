import './import-locales';
import { parse } from './parse-module';
var cache = new Map();
/**
 * @ignore
 */
export function loadLocale(moduleLang) {
    return new Promise(function (resolve, reject) {
        if (cache.has(moduleLang)) {
            resolve(cache.get(moduleLang));
        }
        else {
            fetch("assets/locales/angular/" + moduleLang + ".js")
                .then(function (res) { return res.text(); })
                .then(function (src) {
                var module = parse(src);
                cache.set(moduleLang, module);
                resolve(module);
            })
                .catch(reject);
        }
    });
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9hZC1sb2NhbGUuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AYzh5L25neC1jb21wb25lbnRzLyIsInNvdXJjZXMiOlsiY29yZS9pMThuL2xvYWQtbG9jYWxlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sa0JBQWtCLENBQUM7QUFDMUIsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQ3ZDLElBQU0sS0FBSyxHQUFHLElBQUksR0FBRyxFQUFFLENBQUM7QUFDeEI7O0dBRUc7QUFDSCxNQUFNLFVBQVUsVUFBVSxDQUFDLFVBQVU7SUFDbkMsT0FBTyxJQUFJLE9BQU8sQ0FBQyxVQUFDLE9BQU8sRUFBRSxNQUFNO1FBQ2pDLElBQUksS0FBSyxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsRUFBRTtZQUN6QixPQUFPLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO1NBQ2hDO2FBQU07WUFDTCxLQUFLLENBQUMsNEJBQTBCLFVBQVUsUUFBSyxDQUFDO2lCQUM3QyxJQUFJLENBQUMsVUFBQyxHQUFHLElBQUssT0FBQSxHQUFHLENBQUMsSUFBSSxFQUFFLEVBQVYsQ0FBVSxDQUFDO2lCQUN6QixJQUFJLENBQUMsVUFBQyxHQUFHO2dCQUNSLElBQU0sTUFBTSxHQUFHLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFDMUIsS0FBSyxDQUFDLEdBQUcsQ0FBQyxVQUFVLEVBQUUsTUFBTSxDQUFDLENBQUM7Z0JBQzlCLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUNsQixDQUFDLENBQUM7aUJBQ0QsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1NBQ2xCO0lBQ0gsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICcuL2ltcG9ydC1sb2NhbGVzJztcbmltcG9ydCB7IHBhcnNlIH0gZnJvbSAnLi9wYXJzZS1tb2R1bGUnO1xuY29uc3QgY2FjaGUgPSBuZXcgTWFwKCk7XG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxvYWRMb2NhbGUobW9kdWxlTGFuZykge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGlmIChjYWNoZS5oYXMobW9kdWxlTGFuZykpIHtcbiAgICAgIHJlc29sdmUoY2FjaGUuZ2V0KG1vZHVsZUxhbmcpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZmV0Y2goYGFzc2V0cy9sb2NhbGVzL2FuZ3VsYXIvJHttb2R1bGVMYW5nfS5qc2ApXG4gICAgICAgIC50aGVuKChyZXMpID0+IHJlcy50ZXh0KCkpXG4gICAgICAgIC50aGVuKChzcmMpID0+IHtcbiAgICAgICAgICBjb25zdCBtb2R1bGUgPSBwYXJzZShzcmMpO1xuICAgICAgICAgIGNhY2hlLnNldChtb2R1bGVMYW5nLCBtb2R1bGUpO1xuICAgICAgICAgIHJlc29sdmUobW9kdWxlKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKHJlamVjdCk7XG4gICAgfVxuICB9KTtcbn1cbiJdfQ==