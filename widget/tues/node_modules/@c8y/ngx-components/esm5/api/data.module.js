import * as tslib_1 from "tslib";
import { NgModule } from '@angular/core';
import { BasicAuth, FetchClient, Realtime, CookieAuth } from '@c8y/client';
import { ApiService } from './api.service';
import * as services from './services';
function toProvider(provide) {
    var deps = [FetchClient, Realtime];
    if (provide === FetchClient) {
        deps = [CookieAuth];
    }
    if (provide === BasicAuth || provide === CookieAuth) {
        deps = [];
    }
    if (provide === Realtime) {
        deps = [FetchClient];
    }
    return { provide: provide, useClass: provide, deps: deps };
}
var ɵ0 = function (k) { return toProvider(services[k]); };
var providers = Object.keys(services).map(ɵ0)
    .concat([
    { provide: ApiService, useClass: ApiService, deps: [FetchClient] }
]);
// @dynamic
var DataModule = /** @class */ (function () {
    function DataModule() {
    }
    DataModule_1 = DataModule;
    DataModule.providers = function () {
        return providers;
    };
    DataModule.forRoot = function () {
        return {
            ngModule: DataModule_1,
            providers: providers
        };
    };
    var DataModule_1;
    DataModule = DataModule_1 = tslib_1.__decorate([
        NgModule()
    ], DataModule);
    return DataModule;
}());
export { DataModule };
export { ɵ0 };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0YS5tb2R1bGUuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AYzh5L25neC1jb21wb25lbnRzLyIsInNvdXJjZXMiOlsiYXBpL2RhdGEubW9kdWxlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ3pDLE9BQU8sRUFBRSxTQUFTLEVBQUUsV0FBVyxFQUFFLFFBQVEsRUFBRSxVQUFVLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFDM0UsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUMzQyxPQUFPLEtBQUssUUFBUSxNQUFNLFlBQVksQ0FBQztBQUV2QyxTQUFTLFVBQVUsQ0FBQyxPQUFPO0lBQ3pCLElBQUksSUFBSSxHQUFVLENBQUMsV0FBVyxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQzFDLElBQUksT0FBTyxLQUFLLFdBQVcsRUFBRztRQUM1QixJQUFJLEdBQUcsQ0FBQyxVQUFVLENBQUMsQ0FBQztLQUNyQjtJQUNELElBQUksT0FBTyxLQUFLLFNBQVMsSUFBSSxPQUFPLEtBQUssVUFBVSxFQUFHO1FBQ3BELElBQUksR0FBRyxFQUFFLENBQUM7S0FDWDtJQUNELElBQUksT0FBTyxLQUFLLFFBQVEsRUFBRTtRQUN4QixJQUFJLEdBQUcsQ0FBQyxXQUFXLENBQUMsQ0FBQztLQUN0QjtJQUNELE9BQU8sRUFBQyxPQUFPLFNBQUEsRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLElBQUksTUFBQSxFQUFDLENBQUM7QUFDNUMsQ0FBQztTQUVtRCxVQUFDLENBQUMsSUFBSyxPQUFBLFVBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBdkIsQ0FBdUI7QUFBbEYsSUFBTSxTQUFTLEdBQVcsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLElBQTBDO0tBQzFGLE1BQU0sQ0FBQztJQUNOLEVBQUUsT0FBTyxFQUFFLFVBQVUsRUFBRSxRQUFRLEVBQUUsVUFBVSxFQUFFLElBQUksRUFBRSxDQUFDLFdBQVcsQ0FBQyxFQUFFO0NBQ25FLENBQUMsQ0FBQztBQUNMLFdBQVc7QUFFWDtJQUFBO0lBVUEsQ0FBQzttQkFWWSxVQUFVO0lBQ2Qsb0JBQVMsR0FBaEI7UUFDRSxPQUFPLFNBQVMsQ0FBQztJQUNuQixDQUFDO0lBQ00sa0JBQU8sR0FBZDtRQUNFLE9BQU87WUFDTCxRQUFRLEVBQUUsWUFBVTtZQUNwQixTQUFTLFdBQUE7U0FDVixDQUFDO0lBQ0osQ0FBQzs7SUFUVSxVQUFVO1FBRHRCLFFBQVEsRUFBRTtPQUNFLFVBQVUsQ0FVdEI7SUFBRCxpQkFBQztDQUFBLEFBVkQsSUFVQztTQVZZLFVBQVUiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZ01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQmFzaWNBdXRoLCBGZXRjaENsaWVudCwgUmVhbHRpbWUsIENvb2tpZUF1dGggfSBmcm9tICdAYzh5L2NsaWVudCc7XG5pbXBvcnQgeyBBcGlTZXJ2aWNlIH0gZnJvbSAnLi9hcGkuc2VydmljZSc7XG5pbXBvcnQgKiBhcyBzZXJ2aWNlcyBmcm9tICcuL3NlcnZpY2VzJztcblxuZnVuY3Rpb24gdG9Qcm92aWRlcihwcm92aWRlKSB7XG4gIGxldCBkZXBzOiBhbnlbXSA9IFtGZXRjaENsaWVudCwgUmVhbHRpbWVdO1xuICBpZiAocHJvdmlkZSA9PT0gRmV0Y2hDbGllbnQpICB7XG4gICAgZGVwcyA9IFtDb29raWVBdXRoXTtcbiAgfVxuICBpZiAocHJvdmlkZSA9PT0gQmFzaWNBdXRoIHx8IHByb3ZpZGUgPT09IENvb2tpZUF1dGgpICB7XG4gICAgZGVwcyA9IFtdO1xuICB9XG4gIGlmIChwcm92aWRlID09PSBSZWFsdGltZSkge1xuICAgIGRlcHMgPSBbRmV0Y2hDbGllbnRdO1xuICB9XG4gIHJldHVybiB7cHJvdmlkZSwgdXNlQ2xhc3M6IHByb3ZpZGUsIGRlcHN9O1xufVxuXG5jb25zdCBwcm92aWRlcnM6IGFueVtdID0gKE9iamVjdC5rZXlzKHNlcnZpY2VzKS5tYXAoKGspID0+IHRvUHJvdmlkZXIoc2VydmljZXNba10pKSBhcyBhbnlbXSlcbiAgLmNvbmNhdChbXG4gICAgeyBwcm92aWRlOiBBcGlTZXJ2aWNlLCB1c2VDbGFzczogQXBpU2VydmljZSwgZGVwczogW0ZldGNoQ2xpZW50XSB9XG4gIF0pO1xuLy8gQGR5bmFtaWNcbkBOZ01vZHVsZSgpXG5leHBvcnQgY2xhc3MgRGF0YU1vZHVsZSB7XG4gIHN0YXRpYyBwcm92aWRlcnMoKSB7XG4gICAgcmV0dXJuIHByb3ZpZGVycztcbiAgfVxuICBzdGF0aWMgZm9yUm9vdCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbmdNb2R1bGU6IERhdGFNb2R1bGUsXG4gICAgICBwcm92aWRlcnNcbiAgICB9O1xuICB9XG59XG4iXX0=