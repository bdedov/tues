import * as tslib_1 from "tslib";
import { BaseDeviceGridColumn } from './base.device-grid-column';
import { GroupCellRendererComponent } from './group.cell-renderer.component';
import { GroupFilteringFormRendererComponent } from './group.filtering-form-renderer.component';
import { gettext } from '@c8y/ngx-components';
var GroupDeviceGridColumn = /** @class */ (function (_super) {
    tslib_1.__extends(GroupDeviceGridColumn, _super);
    function GroupDeviceGridColumn() {
        var _this = _super.call(this) || this;
        _this.name = 'group';
        _this.header = gettext('Group');
        _this.cellRendererComponent = GroupCellRendererComponent;
        _this.filteringFormRendererComponent = GroupFilteringFormRendererComponent;
        _this.filterable = true;
        _this.filteringConfig = {
            getFilter: function (model) {
                var filter = {};
                if (model.selectedNodes) {
                    filter.__or = model.selectedNodes.map(function (mo) {
                        if (mo.c8y_DeviceQueryString) {
                            return { __useFilterQueryString: mo.c8y_DeviceQueryString };
                        }
                        return { __bygroupid: mo.id };
                    });
                }
                return filter;
            }
        };
        _this.sortable = false;
        return _this;
    }
    return GroupDeviceGridColumn;
}(BaseDeviceGridColumn));
export { GroupDeviceGridColumn };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ3JvdXAuZGV2aWNlLWdyaWQtY29sdW1uLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGM4eS9uZ3gtY29tcG9uZW50cy9kZXZpY2UtZ3JpZC8iLCJzb3VyY2VzIjpbImNvbHVtbnMvZ3JvdXAuZGV2aWNlLWdyaWQtY29sdW1uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSwyQkFBMkIsQ0FBQztBQUNqRSxPQUFPLEVBQUUsMEJBQTBCLEVBQUUsTUFBTSxpQ0FBaUMsQ0FBQztBQUM3RSxPQUFPLEVBQUUsbUNBQW1DLEVBQUUsTUFBTSwyQ0FBMkMsQ0FBQztBQUNoRyxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFHOUM7SUFBMkMsaURBQW9CO0lBQzdEO1FBQUEsWUFDRSxpQkFBTyxTQXNCUjtRQXBCQyxLQUFJLENBQUMsSUFBSSxHQUFHLE9BQU8sQ0FBQztRQUNwQixLQUFJLENBQUMsTUFBTSxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUMvQixLQUFJLENBQUMscUJBQXFCLEdBQUcsMEJBQTBCLENBQUM7UUFDeEQsS0FBSSxDQUFDLDhCQUE4QixHQUFHLG1DQUFtQyxDQUFDO1FBQzFFLEtBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDO1FBQ3ZCLEtBQUksQ0FBQyxlQUFlLEdBQUc7WUFDckIsU0FBUyxFQUFULFVBQVUsS0FBSztnQkFDYixJQUFNLE1BQU0sR0FBUSxFQUFFLENBQUM7Z0JBQ3ZCLElBQUksS0FBSyxDQUFDLGFBQWEsRUFBRTtvQkFDdkIsTUFBTSxDQUFDLElBQUksR0FBRyxLQUFLLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FBQyxVQUFDLEVBQWtCO3dCQUN2RCxJQUFJLEVBQUUsQ0FBQyxxQkFBcUIsRUFBRTs0QkFDNUIsT0FBTyxFQUFFLHNCQUFzQixFQUFFLEVBQUUsQ0FBQyxxQkFBcUIsRUFBRSxDQUFDO3lCQUM3RDt3QkFDRCxPQUFPLEVBQUUsV0FBVyxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQztvQkFDaEMsQ0FBQyxDQUFDLENBQUM7aUJBQ0o7Z0JBQ0QsT0FBTyxNQUFNLENBQUM7WUFDaEIsQ0FBQztTQUNGLENBQUM7UUFDRixLQUFJLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQzs7SUFDeEIsQ0FBQztJQUNILDRCQUFDO0FBQUQsQ0FBQyxBQXpCRCxDQUEyQyxvQkFBb0IsR0F5QjlEIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQmFzZURldmljZUdyaWRDb2x1bW4gfSBmcm9tICcuL2Jhc2UuZGV2aWNlLWdyaWQtY29sdW1uJztcbmltcG9ydCB7IEdyb3VwQ2VsbFJlbmRlcmVyQ29tcG9uZW50IH0gZnJvbSAnLi9ncm91cC5jZWxsLXJlbmRlcmVyLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBHcm91cEZpbHRlcmluZ0Zvcm1SZW5kZXJlckNvbXBvbmVudCB9IGZyb20gJy4vZ3JvdXAuZmlsdGVyaW5nLWZvcm0tcmVuZGVyZXIuY29tcG9uZW50JztcbmltcG9ydCB7IGdldHRleHQgfSBmcm9tICdAYzh5L25neC1jb21wb25lbnRzJztcbmltcG9ydCB7IElNYW5hZ2VkT2JqZWN0IH0gZnJvbSAnQGM4eS9jbGllbnQnO1xuXG5leHBvcnQgY2xhc3MgR3JvdXBEZXZpY2VHcmlkQ29sdW1uIGV4dGVuZHMgQmFzZURldmljZUdyaWRDb2x1bW4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgdGhpcy5uYW1lID0gJ2dyb3VwJztcbiAgICB0aGlzLmhlYWRlciA9IGdldHRleHQoJ0dyb3VwJyk7XG4gICAgdGhpcy5jZWxsUmVuZGVyZXJDb21wb25lbnQgPSBHcm91cENlbGxSZW5kZXJlckNvbXBvbmVudDtcbiAgICB0aGlzLmZpbHRlcmluZ0Zvcm1SZW5kZXJlckNvbXBvbmVudCA9IEdyb3VwRmlsdGVyaW5nRm9ybVJlbmRlcmVyQ29tcG9uZW50O1xuICAgIHRoaXMuZmlsdGVyYWJsZSA9IHRydWU7XG4gICAgdGhpcy5maWx0ZXJpbmdDb25maWcgPSB7XG4gICAgICBnZXRGaWx0ZXIobW9kZWwpIHtcbiAgICAgICAgY29uc3QgZmlsdGVyOiBhbnkgPSB7fTtcbiAgICAgICAgaWYgKG1vZGVsLnNlbGVjdGVkTm9kZXMpIHtcbiAgICAgICAgICBmaWx0ZXIuX19vciA9IG1vZGVsLnNlbGVjdGVkTm9kZXMubWFwKChtbzogSU1hbmFnZWRPYmplY3QpID0+IHtcbiAgICAgICAgICAgIGlmIChtby5jOHlfRGV2aWNlUXVlcnlTdHJpbmcpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHsgX191c2VGaWx0ZXJRdWVyeVN0cmluZzogbW8uYzh5X0RldmljZVF1ZXJ5U3RyaW5nIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geyBfX2J5Z3JvdXBpZDogbW8uaWQgfTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmlsdGVyO1xuICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5zb3J0YWJsZSA9IGZhbHNlO1xuICB9XG59XG4iXX0=