import * as tslib_1 from "tslib";
import { Component, Input } from '@angular/core';
import { NgForm, ControlContainer } from '@angular/forms';
var OpcuaDeviceProtocolDescription = /** @class */ (function () {
    function OpcuaDeviceProtocolDescription() {
        this.moId = '';
    }
    Object.defineProperty(OpcuaDeviceProtocolDescription.prototype, "model", {
        set: function (_model) {
            this.moId = _model.referencedServerId;
            this._model = _model;
            this.autoScan = _model.enabled ? '1' : '0';
        },
        enumerable: true,
        configurable: true
    });
    OpcuaDeviceProtocolDescription.prototype.setAutoScanOption = function (data) {
        this._model.enabled = data !== '0' ? true : false;
    };
    tslib_1.__decorate([
        Input()
    ], OpcuaDeviceProtocolDescription.prototype, "model", null);
    OpcuaDeviceProtocolDescription = tslib_1.__decorate([
        Component({
            selector: 'opcua-device-protocol-description',
            template: "<div class=\"card bottom-m-xs\">\n  <div class=\"card-block\">\n    <div class=\"row\">\n      <div class=\"col-md-7\">\n        <div class=\"form-group\">\n          <label translate>Name</label>\n          <label class=\"editable\" [ngClass]=\"{'updated': ctrlName.dirty}\">\n            <input type=\"text\" class=\"form-control\" name=\"name\" #ctrlName=\"ngModel\" [(ngModel)]=\"_model.name\">\n          </label>\n        </div>\n        <div class=\"form-group\">\n          <label translate>Description</label>\n          <label class=\"editable\" [ngClass]=\"{'updated': ctrlDescription.dirty}\">\n            <textarea class=\"form-control\" rows=\"1\" name=\"description\" #ctrlDescription=\"ngModel\"\n              [(ngModel)]=\"_model.description\"></textarea>\n            <span *ngIf=\"_model.description\">{{ _model.description }}</span>\n          </label>\n        </div>\n        <div class=\"flex-row\">\n          <div style=\"min-width: 120px;\">\n            <button type=\"button\" class=\"btn top-m-xs\" name=\"autoScanAddressSpace\" [(ngModel)]=\"autoScan\"\n              (ngModelChange)=\"setAutoScanOption($event)\" btnCheckbox btnCheckboxTrue=\"1\" btnCheckboxFalse=\"0\"\n              ngDefaultControl>\n              <span *ngIf=\"autoScan === '1'\"><i c8yIcon=\"check\" class=\"text-success\"></i>\n                {{ 'Active' | translate }}</span>\n              <span *ngIf=\"autoScan === '0'\">\n                <i c8yIcon=\"ban\" class=\"text-danger\"></i> {{ 'Inactive' | translate }}</span>\n            </button>\n          </div>\n          <small class=\"m-l-16 text-muted\">\n            {{\n              'When active, the gateway scans the address space of all servers and automatically applies\n            this device protocol to all nodes matching the criteria.'\n                | translate\n            }}\n          </small>\n        </div>\n      </div>\n      <div class=\"col-md-5\">\n        <dl class=\"dl-horizontal\" style=\"margin-bottom:0;\">\n          <dt><label translate>Device protocol type</label></dt>\n          <dd>\n            <span class=\"label label-info right-m-sm\" style=\"text-transform: capitalize;\">{{\n              _model.fieldbusType\n            }}</span>\n          </dd>\n          <dt><label class=\"small\" translate>ID</label></dt>\n          <dd style=\"font-size:1.5em\">{{ _model.id }}</dd>\n          <dt><label class=\"small\" translate>Date created</label></dt>\n          <dd>{{ _model.creationTime | c8yDate }}</dd>\n          <dt><label class=\"small\" translate>Last update</label></dt>\n          <dd>{{ _model.lastUpdated | c8yDate }}</dd>\n          <dt><label class=\"small\" translate>Fieldbus version</label></dt>\n          <dd>{{ _model.fieldbusVersion }}</dd>\n        </dl>\n      </div>\n    </div>\n  </div>\n</div>",
            viewProviders: [{ provide: ControlContainer, useExisting: NgForm }]
        })
    ], OpcuaDeviceProtocolDescription);
    return OpcuaDeviceProtocolDescription;
}());
export { OpcuaDeviceProtocolDescription };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib3BjdWEtZGV2aWNlLXByb3RvY29sLWRlc2NyaXB0aW9uLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BjOHkvbmd4LWNvbXBvbmVudHMvcHJvdG9jb2wtb3BjdWEvIiwic291cmNlcyI6WyJvcGN1YS1kZXZpY2UtcHJvdG9jb2wtZGVzY3JpcHRpb24uY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUNqRCxPQUFPLEVBQUMsTUFBTSxFQUFFLGdCQUFnQixFQUFDLE1BQU0sZ0JBQWdCLENBQUM7QUFReEQ7SUFOQTtRQWVVLFNBQUksR0FBVyxFQUFFLENBQUM7SUFLNUIsQ0FBQztJQVhVLHNCQUFJLGlEQUFLO2FBQVQsVUFBVSxNQUFNO1lBQ3ZCLElBQUksQ0FBQyxJQUFJLEdBQUcsTUFBTSxDQUFDLGtCQUFrQixDQUFDO1lBQ3RDLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1lBQ3JCLElBQUksQ0FBQyxRQUFRLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUM7UUFDN0MsQ0FBQzs7O09BQUE7SUFJRCwwREFBaUIsR0FBakIsVUFBa0IsSUFBWTtRQUM1QixJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sR0FBRyxJQUFJLEtBQUssR0FBRyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQztJQUNwRCxDQUFDO0lBVlE7UUFBUixLQUFLLEVBQUU7K0RBSVA7SUFQVSw4QkFBOEI7UUFOMUMsU0FBUyxDQUFDO1lBQ1QsUUFBUSxFQUFFLG1DQUFtQztZQUM3Qyx5eEZBQXVEO1lBQ3ZELGFBQWEsRUFBRSxDQUFDLEVBQUMsT0FBTyxFQUFFLGdCQUFnQixFQUFFLFdBQVcsRUFBRSxNQUFNLEVBQUMsQ0FBQztTQUNsRSxDQUFDO09BRVcsOEJBQThCLENBYzFDO0lBQUQscUNBQUM7Q0FBQSxBQWRELElBY0M7U0FkWSw4QkFBOEIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIElucHV0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7TmdGb3JtLCBDb250cm9sQ29udGFpbmVyfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ29wY3VhLWRldmljZS1wcm90b2NvbC1kZXNjcmlwdGlvbicsXHJcbiAgdGVtcGxhdGVVcmw6ICcuL29wY3VhLWRldmljZS1wcm90b2NvbC1kZXNjcmlwdGlvbi5odG1sJyxcclxuICB2aWV3UHJvdmlkZXJzOiBbe3Byb3ZpZGU6IENvbnRyb2xDb250YWluZXIsIHVzZUV4aXN0aW5nOiBOZ0Zvcm19XVxyXG59KVxyXG5cclxuZXhwb3J0IGNsYXNzIE9wY3VhRGV2aWNlUHJvdG9jb2xEZXNjcmlwdGlvbiB7XHJcbiAgX21vZGVsOiBhbnk7XHJcbiAgYXV0b1NjYW46IHN0cmluZztcclxuICBASW5wdXQoKSBzZXQgbW9kZWwoX21vZGVsKSB7XHJcbiAgICB0aGlzLm1vSWQgPSBfbW9kZWwucmVmZXJlbmNlZFNlcnZlcklkO1xyXG4gICAgdGhpcy5fbW9kZWwgPSBfbW9kZWw7XHJcbiAgICB0aGlzLmF1dG9TY2FuID0gX21vZGVsLmVuYWJsZWQgPyAnMScgOiAnMCc7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIG1vSWQ6IHN0cmluZyA9ICcnO1xyXG5cclxuICBzZXRBdXRvU2Nhbk9wdGlvbihkYXRhOiBzdHJpbmcpIHtcclxuICAgIHRoaXMuX21vZGVsLmVuYWJsZWQgPSBkYXRhICE9PSAnMCcgPyB0cnVlIDogZmFsc2U7XHJcbiAgfVxyXG59XHJcbiJdfQ==