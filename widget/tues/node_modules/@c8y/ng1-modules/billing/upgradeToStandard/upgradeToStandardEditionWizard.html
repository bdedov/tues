<c8y-wizard
  on-dismiss="vm.modalInstance.dismiss()"
  on-close="vm.modalInstance.close()"
  initial-flow="vm.resolve.initialFlow"
>
  <header>
    <div style="font-size: 62px;">
      <span class="c8y-icon c8y-icon-c8y-engine"></span>
    </div>
    <h4 class="text-uppercase" style="margin:0; letter-spacing: 0.15em;" translate>
      Standard Edition
    </h4>
  </header>
  <steps>
    <c8y-wizard-step step-id="customerData" label="'Billing information' | translate">
      <customer-data-step prefilled-customer-data="vm.resolve.contractInfo.Customer">
      </customer-data-step>
    </c8y-wizard-step>
    <c8y-wizard-step step-id="paymentData" label="'Payment method' | translate">
      <payment-data-step></payment-data-step>
    </c8y-wizard-step>
    <c8y-wizard-step step-id="placeOrder" label="'Place order' | translate">
      <place-order-step></place-order-step>
    </c8y-wizard-step>
    <c8y-wizard-step step-id="success" modal-header-class="bg-complementary">
      <div class="result-message">
        <div
          class="modal-inner-scroll edition-modal bg-complementary active text-center"
          style="height:225px;"
        >
          <span style="font-size: 66px"> <i c8y-icon="check"></i> </span><br />
          <span class="lead" style="vertical-align: text-bottom;" translate>
            Upgrade completed.
          </span>
          <br />
          <br />
          <p translate>
            We will use the provided information on the next<br />
            billing cycle, starting on
            {{ vm.resolve.contractInfo.NextBillingDate | absoluteDateTimeFormat: 'll' }}.
          </p>
        </div>
        <div class="c8y-wizard-footer">
          <button
            title="{{ 'Close' | translate }}"
            class="btn btn-default"
            ng-click="$parent.wizardCtrl.close()"
            translate
          >
            Close
          </button>
        </div>
      </div>
    </c8y-wizard-step>

    <c8y-wizard-step step-id="failure">
      <div class="result-message">
        <div
          class="modal-inner-scroll edition-modal bg-dark-danger text-center"
          style="height:225px;"
        >
          <br />
          <span style="font-size: 46px">
            <i c8y-icon="exclamation-triangle"></i>
          </span>
          <span class="lead" style="vertical-align: text-bottom;" translate>
            An error occurred during the upgrade process
          </span>
          <p>
            <em>{{ vm.resolve.errorData.errorMessage | translate }}</em>
          </p>
          <br />
          <p translate>
            Retry or <a href="mailto:support@cumulocity.com">reach us</a> if you're not able to
            upgrade.
          </p>
        </div>
        <div class="c8y-wizard-footer">
          <button
            title="{{ 'Cancel' | translate }}"
            class="btn btn-default"
            ng-click="$parent.wizardCtrl.dismiss()"
            translate
          >
            Cancel
          </button>
        </div>
      </div>
    </c8y-wizard-step>
  </steps>
</c8y-wizard>
