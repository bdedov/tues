"use strict";!function(){function n(t,n,i){var c=this;function e(t){return n.generateInvoiceDownloadLink(t).then(function(n){return t.downloadLink=n,t})}_.assign(c,{$onChanges:function(n){n.contractInfo&&c.contractInfo&&function(n){t.all({contractStartDate:function(n){return _.get(n,"StartDate")}(n),contractCurrency:function(n){return _.get(n,"Currency")}(n),inTrial:function(n){return"InTrial"===_.get(n,"LifecycleStatus")}(n),invoices:i.getInvoices().then(function(n){return t.all(_.map(n,e))})}).then(function(n){_.assign(c,n)})}(c.contractInfo)}})}n.$inject=["$q","paymentGatewaySvc","customerBillingSvc"],angular.module("c8y.customerBilling").component("billingHistoryWidget",{controller:n,controllerAs:"vm",templateUrl:":::PLUGIN_PATH:::/billing/billingHistoryWidget.html",bindings:{contractInfo:"<"}})}();